(()=>{"use strict";var e={426:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(537),o=n.n(r),i=n(645),a=n.n(i)()(o());a.push([e.id,'html,\nbody,\ndiv,\np,\nbutton,\nh1,\nh2,\nh3 {\n    margin: 0;\n    padding: 0;\n}\nbutton {\n    appearance: none;\n}\n:root {\n    font-size: 14px;\n}\n/* Utility */\n.btn {\n    font-size: calc(1.1rem + 0.1vw);\n}\n.btn:hover {\n    background-color: lightblue;\n    cursor: pointer;\n}\n.btn.active {\n    background-color: blue;\n    color: white;\n}\n/* Layout */\n.page-container {\n    min-height: 100svh;\n}\n.game-section {\n    width: 65%;\n    max-width: 400px;\n    margin: auto;\n}\n.header-section {\n    padding-block: 1em;\n    background-color: blue;\n    color: white;\n    min-width: 100%;\n    text-align: center;\n    pointer-events: none;\n}\n.board-title {\n    text-align: center;\n}\n.board {\n    flex: 0;\n    background-color: pink;\n    display: flex;\n    flex-wrap: wrap;\n    border: 3px black solid;\n    user-select: none;\n}\n.board-item {\n    aspect-ratio: 1/1;\n    width: 10%;\n    outline: 1px black solid;\n    cursor: pointer;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n.board-item:hover {\n    background-color: bisque;\n}\n.player-ship {\n    background-color: lightblue;\n}\n.player-occupied {\n    background-color: red;\n    cursor: not-allowed;\n}\n.player-placeable {\n    background-color: bisque;\n}\n.player-hit {\n    background-color: red;\n}\n.player-missed {\n    background-color: lime;\n}\n.ship-selection {\n    display: grid;\n    grid-auto-flow: column;\n    grid-auto-columns: 1fr;\n}\n.enemy-shot {\n    background-color: lightgrey;\n}\n.enemy-shot::before {\n    content: "X";\n}\n',"",{version:3,sources:["webpack://./src/style.css"],names:[],mappings:"AAAA;;;;;;;;IAQI,SAAS;IACT,UAAU;AACd;AACA;IACI,gBAAgB;AACpB;AACA;IACI,eAAe;AACnB;AACA,YAAY;AACZ;IACI,+BAA+B;AACnC;AACA;IACI,2BAA2B;IAC3B,eAAe;AACnB;AACA;IACI,sBAAsB;IACtB,YAAY;AAChB;AACA,WAAW;AACX;IACI,kBAAkB;AACtB;AACA;IACI,UAAU;IACV,gBAAgB;IAChB,YAAY;AAChB;AACA;IACI,kBAAkB;IAClB,sBAAsB;IACtB,YAAY;IACZ,eAAe;IACf,kBAAkB;IAClB,oBAAoB;AACxB;AACA;IACI,kBAAkB;AACtB;AACA;IACI,OAAO;IACP,sBAAsB;IACtB,aAAa;IACb,eAAe;IACf,uBAAuB;IACvB,iBAAiB;AACrB;AACA;IACI,iBAAiB;IACjB,UAAU;IACV,wBAAwB;IACxB,eAAe;IACf,aAAa;IACb,mBAAmB;IACnB,uBAAuB;AAC3B;AACA;IACI,wBAAwB;AAC5B;AACA;IACI,2BAA2B;AAC/B;AACA;IACI,qBAAqB;IACrB,mBAAmB;AACvB;AACA;IACI,wBAAwB;AAC5B;AACA;IACI,qBAAqB;AACzB;AACA;IACI,sBAAsB;AAC1B;AACA;IACI,aAAa;IACb,sBAAsB;IACtB,sBAAsB;AAC1B;AACA;IACI,2BAA2B;AAC/B;AACA;IACI,YAAY;AAChB",sourcesContent:['html,\nbody,\ndiv,\np,\nbutton,\nh1,\nh2,\nh3 {\n    margin: 0;\n    padding: 0;\n}\nbutton {\n    appearance: none;\n}\n:root {\n    font-size: 14px;\n}\n/* Utility */\n.btn {\n    font-size: calc(1.1rem + 0.1vw);\n}\n.btn:hover {\n    background-color: lightblue;\n    cursor: pointer;\n}\n.btn.active {\n    background-color: blue;\n    color: white;\n}\n/* Layout */\n.page-container {\n    min-height: 100svh;\n}\n.game-section {\n    width: 65%;\n    max-width: 400px;\n    margin: auto;\n}\n.header-section {\n    padding-block: 1em;\n    background-color: blue;\n    color: white;\n    min-width: 100%;\n    text-align: center;\n    pointer-events: none;\n}\n.board-title {\n    text-align: center;\n}\n.board {\n    flex: 0;\n    background-color: pink;\n    display: flex;\n    flex-wrap: wrap;\n    border: 3px black solid;\n    user-select: none;\n}\n.board-item {\n    aspect-ratio: 1/1;\n    width: 10%;\n    outline: 1px black solid;\n    cursor: pointer;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n.board-item:hover {\n    background-color: bisque;\n}\n.player-ship {\n    background-color: lightblue;\n}\n.player-occupied {\n    background-color: red;\n    cursor: not-allowed;\n}\n.player-placeable {\n    background-color: bisque;\n}\n.player-hit {\n    background-color: red;\n}\n.player-missed {\n    background-color: lime;\n}\n.ship-selection {\n    display: grid;\n    grid-auto-flow: column;\n    grid-auto-columns: 1fr;\n}\n.enemy-shot {\n    background-color: lightgrey;\n}\n.enemy-shot::before {\n    content: "X";\n}\n'],sourceRoot:""}]);const s=a},645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,o,i){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(r)for(var s=0;s<this.length;s++){var c=this[s][0];null!=c&&(a[c]=!0)}for(var l=0;l<e.length;l++){var d=[].concat(e[l]);r&&a[d[0]]||(void 0!==i&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=i),n&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=n):d[2]=n),o&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=o):d[4]="".concat(o)),t.push(d))}},t}},537:e=>{e.exports=function(e){var t=e[1],n=e[3];if(!n)return t;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),o="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),i="/*# ".concat(o," */");return[t].concat([i]).join("\n")}return[t].join("\n")}},379:e=>{var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var i={},a=[],s=0;s<e.length;s++){var c=e[s],l=r.base?c[0]+r.base:c[0],d=i[l]||0,u="".concat(l," ").concat(d);i[l]=d+1;var p=n(u),A={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==p)t[p].references++,t[p].updater(A);else{var h=o(A,r);r.byIndex=s,t.splice(s,0,{identifier:u,updater:h,references:1})}a.push(u)}return a}function o(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,o){var i=r(e=e||[],o=o||{});return function(e){e=e||[];for(var a=0;a<i.length;a++){var s=n(i[a]);t[s].references--}for(var c=r(e,o),l=0;l<i.length;l++){var d=n(i[l]);0===t[d].references&&(t[d].updater(),t.splice(d,1))}i=c}}},569:e=>{var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},216:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},565:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},795:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,o&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var i=n.sourceMap;i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={id:r,exports:{}};return e[r](i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.nc=void 0,(()=>{var e=n(379),t=n.n(e),r=n(795),o=n.n(r),i=n(569),a=n.n(i),s=n(565),c=n.n(s),l=n(216),d=n.n(l),u=n(589),p=n.n(u),A=n(426),h={};h.styleTagTransform=p(),h.setAttributes=c(),h.insert=a().bind(null,"head"),h.domAPI=o(),h.insertStyleElement=d(),t()(A.Z,h),A.Z&&A.Z.locals&&A.Z.locals;const g=(e,t)=>{if("number"!=typeof e||"number"!=typeof t||isNaN(e)||isNaN(t))throw new TypeError("Number arguments are expected");if(e<0||e>9||t<0||t>9)throw new RangeError("x and y coordinates are required to be between 0-9");const n=e,r=t;return{getX:()=>n,getY:()=>r,getType:()=>"Point",json:()=>`{"x": ${n}, "y": ${r}}`}},f=(()=>{let e={},t=0;return{subscribe:(n,r)=>(e[n]=[],t++,e[n].push({token:t,func:r}),t),unsubscribe:(t,n)=>{if(!t)throw TypeError("An event is expected");if(!n)throw TypeError("A token is expected");if(e[t])throw TypeError("No matching event found");const r=e[t].filter((e=>!(e.token===n)));if(r.length===e[t].length)throw TypeError(`No token matching ${n} was found`);e[t]=r},publish:t=>{if(void 0===e[t])throw TypeError(`"${t}" event has no subscribers yet.`);e[t].forEach((e=>e.func()))}}})(),b=(e,t,n)=>{document.querySelector(".page-container");const r=document.createElement("div");r.classList="board-container";const o=document.createElement("h3");o.innerText=t,o.classList="board-title";const i=document.createElement("div");i.classList="board",n&&f.subscribe("enemyShot",(()=>{const t=e.getEnemyBoard().getShots(),n=t[t.length-1];i.querySelector(`[x="${n.getX()}"][y="${n.getY()}"]`).classList.add("enemy-shot")}));for(let t=9;t>=0;t--)for(let o=0;o<10;o++){const a=document.createElement("div");if(a.setAttribute("x",o),a.setAttribute("y",t),a.classList="board-item",n){let n;a.addEventListener("mouseover",(()=>{const r=e.getPlayer().getShip(e.getSize(),g(o,t),e.getDirection());for(let e of r.coordinates){const t=i.querySelector(`[x="${e.getX()}"][y="${e.getY()}"]`);n=r.isPlaceable?"player-placeable":"player-occupied",t.classList.add(n)}})),a.addEventListener("mouseout",(()=>{i.querySelectorAll(".board-item").forEach((e=>e.classList.remove(n)))})),a.addEventListener("click",(function(){e.addShip(g(o,t))})),e.getPlayer().getOccupied().find((e=>e.getX()===o&&e.getY()===t))&&a.classList.add("player-ship")}else r.style.visibility="hidden",f.subscribe("gameStarted",(()=>{r.style.visibility="visible"})),a.addEventListener("click",(function(){e.getPlayerBoard().shoot(e.getEnemyPlayer(),g(o,t))?this.classList.add("player-hit"):this.classList.add("player-missed"),this.innerText="X",f.publish("userShot")}),{once:!0});i.appendChild(a)}return r.append(o,i),r},m=e=>{document.querySelector(".page-container");const t=document.createElement("div");t.classList="ship-selection";const n=document.createElement("button"),r=document.createElement("button"),o=document.createElement("button"),i=document.createElement("button"),a=document.createElement("button");n.id="directionBtn",r.id="smBtn",o.id="mdBtn",i.id="lgBtn",a.id="xlBtn",n.innerText="🧭",r.innerText="Small",o.innerText="Medium",i.innerText="Large",a.innerText="XL";const s=function(){let e=["up","right","down","left"],t=0;return{get:()=>e[t],next:()=>{t++,t===e.length&&(t=0)}}}();let c;return e.setDirection(s.get()),n.addEventListener("click",(function(){s.next(),e.setDirection(s.get())})),r.onclick=o.onclick=i.onclick=a.onclick=function(){switch(document.querySelectorAll(`.btn:not([${this.id}])`).forEach((e=>e.classList.remove("active"))),this.classList.add("active"),this.id){case"smBtn":c=2;break;case"mdBtn":c=3;break;case"lgBtn":c=4;break;case"xlBtn":c=5;break;default:throw TypeError("Uknown ship type was clicked")}e.setSize(c)},t.append(r,o,i,a,n),Array.from(t.children).forEach((e=>e.classList="btn")),r.click(),t};function y(){let e=[],t=0;return{getType:()=>"Board",getShots:()=>e,shoot:(n,r)=>{if(!n||"Player"!==n.getType())throw new TypeError(`A Player object is expected, ${n} passed`);if(!r||"Point"!==r.getType())throw new TypeError("A Point object is required");e.push(r);for(let e of n.getShipsOwned())for(let n=0;n<e.getSize();n++)if(e.coordinates[n].json()===r.json())return e.hit(),t++,!0;return!1},getHits:()=>t}}function B(e){if(!e)throw new TypeError("A name is expected");let t=e,n={xl:1,lg:1,md:2,sm:1},r=[],o={_data:[],add:function(e){if(e.length>0&&this.isOccupied(e))throw RangeError("Some of the ships points are already occupied");this._data=[...this._data,...e]},get:function(){return this._data},isOccupied:function(e){for(let t of e){const e=this._data.some((e=>e.json()===t.json()));if(e)return e}}};return{getType:()=>"Player",getName:()=>t,getShipsLeft:()=>n,getShipsOwned:()=>r,getOccupied:()=>o.get(),getShip:(e,t,n)=>{let r,i=[];if(!e||"number"!=typeof e||isNaN(e))throw new TypeError("A size of type number is expected");if(!t||"Point"!==t.getType())throw new TypeError("A Point object is expected");switch(n){case"up":for(let n=0;n<e&&!(t.getY()+n>9);n++){const e=g(t.getX(),t.getY()+n);i.push(e)}break;case"down":for(let n=0;n<e&&!(t.getY()-n<0);n++){const e=g(t.getX(),t.getY()-n);i.push(e)}break;case"right":for(let n=0;n<e&&!(t.getX()+n>9);n++){const e=g(t.getX()+n,t.getY());i.push(e)}break;case"left":for(let n=0;n<e&&!(t.getX()-n<0);n++){const e=g(t.getX()-n,t.getY());i.push(e)}break;default:throw TypeError(`Direction must be up, down, right or left. ${n} passed`)}r=!o.isOccupied(i)&&i.length===e;const a=Object.assign({},function(e){if(!e)throw new RangeError("Ship.js: Missing ship size");if("number"!=typeof e)throw new TypeError(`Ship.js: size should be of type number. ${typeof e} passed`);if(e>5)throw new RangeError(`Shipt.js: The size can be 2-4, ${e} is too big`);if(e<2)throw new RangeError(`Shipt.js: The size can be 2-4, ${e} is too small`);const t=e;let n=0,r=!1;return{getType:()=>"Ship",getSize:()=>t,getHits:()=>n,getIsSunk:()=>r,hit:function(){n++,n===t&&(r=!0)}}}(e),{coordinates:i,isPlaceable:r});return a},addShip:function(e,t,i){const a=this.getShip(e,t,i);if(!a.isPlaceable)throw new RangeError("Ship is exceeding the board or colliding with another ship, please start, direction and size");if(!a.isPlaceable)return;let s;switch(e){case 2:s="sm";break;case 3:s="md";break;case 4:s="lg";break;case 5:s="xl";break;default:throw new RangeError(`Ship size must be between 2-5, ${e} passed`)}if(!n[s])throw new RangeError(`Trying to create many ships of type ${s}.`);o.add(a.coordinates),n[s]--,r.push(a)}}}const C=(()=>{const e=y(),t=y();let n,r,o,i="up";return{init:(e,t)=>{n=e,r=t,r.populate()},getPlayerBoard:()=>e,getPlayer:()=>n,getEnemyPlayer:()=>r,getEnemyBoard:()=>t,setSize:e=>{if(!e)throw TypeError("A size is expected");o=e},getSize:()=>o,setDirection:e=>{if(!e)throw TypeError("A direction is expected");i=e},getDirection:()=>i,addShip:function(e){if(!e)throw TypeError("A Point is expected");n.addShip(o,e,i),f.publish("shipsChanged")},start:()=>{const r=n.getShipsLeft(),o=Object.keys(r).reduce(((e,t)=>e+r[t]),0),i=function(){if(n.getShipsOwned().length===o){f.publish("gameStarted");const r=n.getOccupied().length;f.subscribe("userShot",(()=>{let o;e.getHits()===r&&(alert("You won!!"),f.publish("gameOver"));do{const e=Math.floor(10*Math.random()),t=Math.floor(10*Math.random());o=g(e,t),console.log(console.log(o.json()))}while(t.getShots().some((e=>e.json()===o.json())));t.shoot(n,o),f.publish("enemyShot"),t.getHits()===r&&(alert("The enemy won :("),f.publish("gameOver"))}))}else a=setTimeout(i,500)};let a=setTimeout(i,500)}}})(),w=B("Joe"),v=(e=>{const t=B("AI");return Object.assign({},t,{populate:()=>{for(let e in t.getShipsLeft())for(;t.getShipsLeft()[e]>0;){let n;switch(e){case"sm":n=2;break;case"md":n=3;break;case"lg":n=4;break;case"xl":n=5}let r,o=Math.floor(4*Math.random()+1);switch(o){case 1:o="up";break;case 2:o="right";break;case 3:o="down";break;case 4:o="left"}do{const e=Math.floor(9*Math.random()+1),i=Math.floor(9*Math.random()+1);r=t.getShip(n,g(e,i),o)}while(!r.isPlaceable);t.addShip(n,r.coordinates[0],o)}}})})();C.init(w,v),C.start(),function(e){document.querySelector(".page-container").append((()=>{const e=document.createElement("div");return e.classList="header-section",e.innerHTML="<h1>Haswell's Battleship</h1>",e})(),(e=>{const t=document.createElement("div");t.classList="game-section";const n=b(e,"Enemy Sea");let r=b(e,"My Sea",e.getPlayer().getShipsOwned());return t.append(n,r,m(e)),f.subscribe("shipsChanged",(()=>{const n=b(e,"My Sea",e.getPlayer().getShipsOwned());t.replaceChild(n,r),r=n})),t})(e))}(C)})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QU9qQixVQUFVLGdCQVZHLEtBQ2hCLE1BQU11SSxFQUFXSCxFQUNiM0gsRUFDQSxTQUNBQSxFQUFLa0IsWUFBWXdDLGlCQUVyQitELEVBQVlNLGFBQWFELEVBQVVGLEdBQ25DQSxFQUFjRSxDQUFRLElBS25CTCxDQUNWLEVGeEJ5QixDQUFXekgsR0FDckMsQ0ZNQWdJLENBQUtoSSxFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb2Rpbi1iYXR0bGVzaGlwLy4vc3JjL3N0eWxlLmNzcyIsIndlYnBhY2s6Ly9vZGluLWJhdHRsZXNoaXAvLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzIiwid2VicGFjazovL29kaW4tYmF0dGxlc2hpcC8uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9zb3VyY2VNYXBzLmpzIiwid2VicGFjazovL29kaW4tYmF0dGxlc2hpcC8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qcyIsIndlYnBhY2s6Ly9vZGluLWJhdHRsZXNoaXAvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRCeVNlbGVjdG9yLmpzIiwid2VicGFjazovL29kaW4tYmF0dGxlc2hpcC8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydFN0eWxlRWxlbWVudC5qcyIsIndlYnBhY2s6Ly9vZGluLWJhdHRsZXNoaXAvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXMuanMiLCJ3ZWJwYWNrOi8vb2Rpbi1iYXR0bGVzaGlwLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVEb21BUEkuanMiLCJ3ZWJwYWNrOi8vb2Rpbi1iYXR0bGVzaGlwLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVUYWdUcmFuc2Zvcm0uanMiLCJ3ZWJwYWNrOi8vb2Rpbi1iYXR0bGVzaGlwL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL29kaW4tYmF0dGxlc2hpcC93ZWJwYWNrL3J1bnRpbWUvY29tcGF0IGdldCBkZWZhdWx0IGV4cG9ydCIsIndlYnBhY2s6Ly9vZGluLWJhdHRsZXNoaXAvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL29kaW4tYmF0dGxlc2hpcC93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL29kaW4tYmF0dGxlc2hpcC93ZWJwYWNrL3J1bnRpbWUvbm9uY2UiLCJ3ZWJwYWNrOi8vb2Rpbi1iYXR0bGVzaGlwLy4vc3JjL3N0eWxlLmNzcz83MTYzIiwid2VicGFjazovL29kaW4tYmF0dGxlc2hpcC8uL3NyYy9sb2dpYy9Qb2ludC5qcyIsIndlYnBhY2s6Ly9vZGluLWJhdHRsZXNoaXAvLi9zcmMvbG9naWMvUHViU3ViLmpzIiwid2VicGFjazovL29kaW4tYmF0dGxlc2hpcC8uL3NyYy9jb21wb25lbnRzL2dhbWVib2FyZC5qcyIsIndlYnBhY2s6Ly9vZGluLWJhdHRsZXNoaXAvLi9zcmMvY29tcG9uZW50cy9zaGlwU2VsZWN0aW9uLmpzIiwid2VicGFjazovL29kaW4tYmF0dGxlc2hpcC8uL3NyYy9sb2dpYy9Cb2FyZC5qcyIsIndlYnBhY2s6Ly9vZGluLWJhdHRsZXNoaXAvLi9zcmMvbG9naWMvUGxheWVyLmpzIiwid2VicGFjazovL29kaW4tYmF0dGxlc2hpcC8uL3NyYy9sb2dpYy9TaGlwLmpzIiwid2VicGFjazovL29kaW4tYmF0dGxlc2hpcC8uL3NyYy9sb2dpYy9QbGF5ZXJCb3QuanMiLCJ3ZWJwYWNrOi8vb2Rpbi1iYXR0bGVzaGlwLy4vc3JjL2luZGV4LmpzIiwid2VicGFjazovL29kaW4tYmF0dGxlc2hpcC8uL3NyYy9sb2dpYy9HYW1lLmpzIiwid2VicGFjazovL29kaW4tYmF0dGxlc2hpcC8uL3NyYy9wYWdlcy9tYWluLmpzIiwid2VicGFjazovL29kaW4tYmF0dGxlc2hpcC8uL3NyYy9jb21wb25lbnRzL3NlY3Rpb25zL2hlYWRlci5qcyIsIndlYnBhY2s6Ly9vZGluLWJhdHRsZXNoaXAvLi9zcmMvY29tcG9uZW50cy9zZWN0aW9ucy9nYW1lLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEltcG9ydHNcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fIGZyb20gXCIuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvc291cmNlTWFwcy5qc1wiO1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyBmcm9tIFwiLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiO1xudmFyIF9fX0NTU19MT0FERVJfRVhQT1JUX19fID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18pO1xuLy8gTW9kdWxlXG5fX19DU1NfTE9BREVSX0VYUE9SVF9fXy5wdXNoKFttb2R1bGUuaWQsIGBodG1sLFxuYm9keSxcbmRpdixcbnAsXG5idXR0b24sXG5oMSxcbmgyLFxuaDMge1xuICAgIG1hcmdpbjogMDtcbiAgICBwYWRkaW5nOiAwO1xufVxuYnV0dG9uIHtcbiAgICBhcHBlYXJhbmNlOiBub25lO1xufVxuOnJvb3Qge1xuICAgIGZvbnQtc2l6ZTogMTRweDtcbn1cbi8qIFV0aWxpdHkgKi9cbi5idG4ge1xuICAgIGZvbnQtc2l6ZTogY2FsYygxLjFyZW0gKyAwLjF2dyk7XG59XG4uYnRuOmhvdmVyIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBsaWdodGJsdWU7XG4gICAgY3Vyc29yOiBwb2ludGVyO1xufVxuLmJ0bi5hY3RpdmUge1xuICAgIGJhY2tncm91bmQtY29sb3I6IGJsdWU7XG4gICAgY29sb3I6IHdoaXRlO1xufVxuLyogTGF5b3V0ICovXG4ucGFnZS1jb250YWluZXIge1xuICAgIG1pbi1oZWlnaHQ6IDEwMHN2aDtcbn1cbi5nYW1lLXNlY3Rpb24ge1xuICAgIHdpZHRoOiA2NSU7XG4gICAgbWF4LXdpZHRoOiA0MDBweDtcbiAgICBtYXJnaW46IGF1dG87XG59XG4uaGVhZGVyLXNlY3Rpb24ge1xuICAgIHBhZGRpbmctYmxvY2s6IDFlbTtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBibHVlO1xuICAgIGNvbG9yOiB3aGl0ZTtcbiAgICBtaW4td2lkdGg6IDEwMCU7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIHBvaW50ZXItZXZlbnRzOiBub25lO1xufVxuLmJvYXJkLXRpdGxlIHtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG59XG4uYm9hcmQge1xuICAgIGZsZXg6IDA7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogcGluaztcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGZsZXgtd3JhcDogd3JhcDtcbiAgICBib3JkZXI6IDNweCBibGFjayBzb2xpZDtcbiAgICB1c2VyLXNlbGVjdDogbm9uZTtcbn1cbi5ib2FyZC1pdGVtIHtcbiAgICBhc3BlY3QtcmF0aW86IDEvMTtcbiAgICB3aWR0aDogMTAlO1xuICAgIG91dGxpbmU6IDFweCBibGFjayBzb2xpZDtcbiAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xufVxuLmJvYXJkLWl0ZW06aG92ZXIge1xuICAgIGJhY2tncm91bmQtY29sb3I6IGJpc3F1ZTtcbn1cbi5wbGF5ZXItc2hpcCB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogbGlnaHRibHVlO1xufVxuLnBsYXllci1vY2N1cGllZCB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmVkO1xuICAgIGN1cnNvcjogbm90LWFsbG93ZWQ7XG59XG4ucGxheWVyLXBsYWNlYWJsZSB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogYmlzcXVlO1xufVxuLnBsYXllci1oaXQge1xuICAgIGJhY2tncm91bmQtY29sb3I6IHJlZDtcbn1cbi5wbGF5ZXItbWlzc2VkIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBsaW1lO1xufVxuLnNoaXAtc2VsZWN0aW9uIHtcbiAgICBkaXNwbGF5OiBncmlkO1xuICAgIGdyaWQtYXV0by1mbG93OiBjb2x1bW47XG4gICAgZ3JpZC1hdXRvLWNvbHVtbnM6IDFmcjtcbn1cbi5lbmVteS1zaG90IHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBsaWdodGdyZXk7XG59XG4uZW5lbXktc2hvdDo6YmVmb3JlIHtcbiAgICBjb250ZW50OiBcIlhcIjtcbn1cbmAsIFwiXCIse1widmVyc2lvblwiOjMsXCJzb3VyY2VzXCI6W1wid2VicGFjazovLy4vc3JjL3N0eWxlLmNzc1wiXSxcIm5hbWVzXCI6W10sXCJtYXBwaW5nc1wiOlwiQUFBQTs7Ozs7Ozs7SUFRSSxTQUFTO0lBQ1QsVUFBVTtBQUNkO0FBQ0E7SUFDSSxnQkFBZ0I7QUFDcEI7QUFDQTtJQUNJLGVBQWU7QUFDbkI7QUFDQSxZQUFZO0FBQ1o7SUFDSSwrQkFBK0I7QUFDbkM7QUFDQTtJQUNJLDJCQUEyQjtJQUMzQixlQUFlO0FBQ25CO0FBQ0E7SUFDSSxzQkFBc0I7SUFDdEIsWUFBWTtBQUNoQjtBQUNBLFdBQVc7QUFDWDtJQUNJLGtCQUFrQjtBQUN0QjtBQUNBO0lBQ0ksVUFBVTtJQUNWLGdCQUFnQjtJQUNoQixZQUFZO0FBQ2hCO0FBQ0E7SUFDSSxrQkFBa0I7SUFDbEIsc0JBQXNCO0lBQ3RCLFlBQVk7SUFDWixlQUFlO0lBQ2Ysa0JBQWtCO0lBQ2xCLG9CQUFvQjtBQUN4QjtBQUNBO0lBQ0ksa0JBQWtCO0FBQ3RCO0FBQ0E7SUFDSSxPQUFPO0lBQ1Asc0JBQXNCO0lBQ3RCLGFBQWE7SUFDYixlQUFlO0lBQ2YsdUJBQXVCO0lBQ3ZCLGlCQUFpQjtBQUNyQjtBQUNBO0lBQ0ksaUJBQWlCO0lBQ2pCLFVBQVU7SUFDVix3QkFBd0I7SUFDeEIsZUFBZTtJQUNmLGFBQWE7SUFDYixtQkFBbUI7SUFDbkIsdUJBQXVCO0FBQzNCO0FBQ0E7SUFDSSx3QkFBd0I7QUFDNUI7QUFDQTtJQUNJLDJCQUEyQjtBQUMvQjtBQUNBO0lBQ0kscUJBQXFCO0lBQ3JCLG1CQUFtQjtBQUN2QjtBQUNBO0lBQ0ksd0JBQXdCO0FBQzVCO0FBQ0E7SUFDSSxxQkFBcUI7QUFDekI7QUFDQTtJQUNJLHNCQUFzQjtBQUMxQjtBQUNBO0lBQ0ksYUFBYTtJQUNiLHNCQUFzQjtJQUN0QixzQkFBc0I7QUFDMUI7QUFDQTtJQUNJLDJCQUEyQjtBQUMvQjtBQUNBO0lBQ0ksWUFBWTtBQUNoQlwiLFwic291cmNlc0NvbnRlbnRcIjpbXCJodG1sLFxcbmJvZHksXFxuZGl2LFxcbnAsXFxuYnV0dG9uLFxcbmgxLFxcbmgyLFxcbmgzIHtcXG4gICAgbWFyZ2luOiAwO1xcbiAgICBwYWRkaW5nOiAwO1xcbn1cXG5idXR0b24ge1xcbiAgICBhcHBlYXJhbmNlOiBub25lO1xcbn1cXG46cm9vdCB7XFxuICAgIGZvbnQtc2l6ZTogMTRweDtcXG59XFxuLyogVXRpbGl0eSAqL1xcbi5idG4ge1xcbiAgICBmb250LXNpemU6IGNhbGMoMS4xcmVtICsgMC4xdncpO1xcbn1cXG4uYnRuOmhvdmVyIHtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogbGlnaHRibHVlO1xcbiAgICBjdXJzb3I6IHBvaW50ZXI7XFxufVxcbi5idG4uYWN0aXZlIHtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogYmx1ZTtcXG4gICAgY29sb3I6IHdoaXRlO1xcbn1cXG4vKiBMYXlvdXQgKi9cXG4ucGFnZS1jb250YWluZXIge1xcbiAgICBtaW4taGVpZ2h0OiAxMDBzdmg7XFxufVxcbi5nYW1lLXNlY3Rpb24ge1xcbiAgICB3aWR0aDogNjUlO1xcbiAgICBtYXgtd2lkdGg6IDQwMHB4O1xcbiAgICBtYXJnaW46IGF1dG87XFxufVxcbi5oZWFkZXItc2VjdGlvbiB7XFxuICAgIHBhZGRpbmctYmxvY2s6IDFlbTtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogYmx1ZTtcXG4gICAgY29sb3I6IHdoaXRlO1xcbiAgICBtaW4td2lkdGg6IDEwMCU7XFxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcXG4gICAgcG9pbnRlci1ldmVudHM6IG5vbmU7XFxufVxcbi5ib2FyZC10aXRsZSB7XFxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcXG59XFxuLmJvYXJkIHtcXG4gICAgZmxleDogMDtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcGluaztcXG4gICAgZGlzcGxheTogZmxleDtcXG4gICAgZmxleC13cmFwOiB3cmFwO1xcbiAgICBib3JkZXI6IDNweCBibGFjayBzb2xpZDtcXG4gICAgdXNlci1zZWxlY3Q6IG5vbmU7XFxufVxcbi5ib2FyZC1pdGVtIHtcXG4gICAgYXNwZWN0LXJhdGlvOiAxLzE7XFxuICAgIHdpZHRoOiAxMCU7XFxuICAgIG91dGxpbmU6IDFweCBibGFjayBzb2xpZDtcXG4gICAgY3Vyc29yOiBwb2ludGVyO1xcbiAgICBkaXNwbGF5OiBmbGV4O1xcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXG59XFxuLmJvYXJkLWl0ZW06aG92ZXIge1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBiaXNxdWU7XFxufVxcbi5wbGF5ZXItc2hpcCB7XFxuICAgIGJhY2tncm91bmQtY29sb3I6IGxpZ2h0Ymx1ZTtcXG59XFxuLnBsYXllci1vY2N1cGllZCB7XFxuICAgIGJhY2tncm91bmQtY29sb3I6IHJlZDtcXG4gICAgY3Vyc29yOiBub3QtYWxsb3dlZDtcXG59XFxuLnBsYXllci1wbGFjZWFibGUge1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBiaXNxdWU7XFxufVxcbi5wbGF5ZXItaGl0IHtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmVkO1xcbn1cXG4ucGxheWVyLW1pc3NlZCB7XFxuICAgIGJhY2tncm91bmQtY29sb3I6IGxpbWU7XFxufVxcbi5zaGlwLXNlbGVjdGlvbiB7XFxuICAgIGRpc3BsYXk6IGdyaWQ7XFxuICAgIGdyaWQtYXV0by1mbG93OiBjb2x1bW47XFxuICAgIGdyaWQtYXV0by1jb2x1bW5zOiAxZnI7XFxufVxcbi5lbmVteS1zaG90IHtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogbGlnaHRncmV5O1xcbn1cXG4uZW5lbXktc2hvdDo6YmVmb3JlIHtcXG4gICAgY29udGVudDogXFxcIlhcXFwiO1xcbn1cXG5cIl0sXCJzb3VyY2VSb290XCI6XCJcIn1dKTtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IF9fX0NTU19MT0FERVJfRVhQT1JUX19fO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qXG4gIE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG4gIEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcbiovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKSB7XG4gIHZhciBsaXN0ID0gW107XG5cbiAgLy8gcmV0dXJuIHRoZSBsaXN0IG9mIG1vZHVsZXMgYXMgY3NzIHN0cmluZ1xuICBsaXN0LnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICB2YXIgY29udGVudCA9IFwiXCI7XG4gICAgICB2YXIgbmVlZExheWVyID0gdHlwZW9mIGl0ZW1bNV0gIT09IFwidW5kZWZpbmVkXCI7XG4gICAgICBpZiAoaXRlbVs0XSkge1xuICAgICAgICBjb250ZW50ICs9IFwiQHN1cHBvcnRzIChcIi5jb25jYXQoaXRlbVs0XSwgXCIpIHtcIik7XG4gICAgICB9XG4gICAgICBpZiAoaXRlbVsyXSkge1xuICAgICAgICBjb250ZW50ICs9IFwiQG1lZGlhIFwiLmNvbmNhdChpdGVtWzJdLCBcIiB7XCIpO1xuICAgICAgfVxuICAgICAgaWYgKG5lZWRMYXllcikge1xuICAgICAgICBjb250ZW50ICs9IFwiQGxheWVyXCIuY29uY2F0KGl0ZW1bNV0ubGVuZ3RoID4gMCA/IFwiIFwiLmNvbmNhdChpdGVtWzVdKSA6IFwiXCIsIFwiIHtcIik7XG4gICAgICB9XG4gICAgICBjb250ZW50ICs9IGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSk7XG4gICAgICBpZiAobmVlZExheWVyKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJ9XCI7XG4gICAgICB9XG4gICAgICBpZiAoaXRlbVsyXSkge1xuICAgICAgICBjb250ZW50ICs9IFwifVwiO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1bNF0pIHtcbiAgICAgICAgY29udGVudCArPSBcIn1cIjtcbiAgICAgIH1cbiAgICAgIHJldHVybiBjb250ZW50O1xuICAgIH0pLmpvaW4oXCJcIik7XG4gIH07XG5cbiAgLy8gaW1wb3J0IGEgbGlzdCBvZiBtb2R1bGVzIGludG8gdGhlIGxpc3RcbiAgbGlzdC5pID0gZnVuY3Rpb24gaShtb2R1bGVzLCBtZWRpYSwgZGVkdXBlLCBzdXBwb3J0cywgbGF5ZXIpIHtcbiAgICBpZiAodHlwZW9mIG1vZHVsZXMgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIG1vZHVsZXMgPSBbW251bGwsIG1vZHVsZXMsIHVuZGVmaW5lZF1dO1xuICAgIH1cbiAgICB2YXIgYWxyZWFkeUltcG9ydGVkTW9kdWxlcyA9IHt9O1xuICAgIGlmIChkZWR1cGUpIHtcbiAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgdGhpcy5sZW5ndGg7IGsrKykge1xuICAgICAgICB2YXIgaWQgPSB0aGlzW2tdWzBdO1xuICAgICAgICBpZiAoaWQgIT0gbnVsbCkge1xuICAgICAgICAgIGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaWRdID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBmb3IgKHZhciBfayA9IDA7IF9rIDwgbW9kdWxlcy5sZW5ndGg7IF9rKyspIHtcbiAgICAgIHZhciBpdGVtID0gW10uY29uY2F0KG1vZHVsZXNbX2tdKTtcbiAgICAgIGlmIChkZWR1cGUgJiYgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpdGVtWzBdXSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgbGF5ZXIgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBpdGVtWzVdID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgaXRlbVs1XSA9IGxheWVyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMV0gPSBcIkBsYXllclwiLmNvbmNhdChpdGVtWzVdLmxlbmd0aCA+IDAgPyBcIiBcIi5jb25jYXQoaXRlbVs1XSkgOiBcIlwiLCBcIiB7XCIpLmNvbmNhdChpdGVtWzFdLCBcIn1cIik7XG4gICAgICAgICAgaXRlbVs1XSA9IGxheWVyO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAobWVkaWEpIHtcbiAgICAgICAgaWYgKCFpdGVtWzJdKSB7XG4gICAgICAgICAgaXRlbVsyXSA9IG1lZGlhO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMV0gPSBcIkBtZWRpYSBcIi5jb25jYXQoaXRlbVsyXSwgXCIge1wiKS5jb25jYXQoaXRlbVsxXSwgXCJ9XCIpO1xuICAgICAgICAgIGl0ZW1bMl0gPSBtZWRpYTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHN1cHBvcnRzKSB7XG4gICAgICAgIGlmICghaXRlbVs0XSkge1xuICAgICAgICAgIGl0ZW1bNF0gPSBcIlwiLmNvbmNhdChzdXBwb3J0cyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaXRlbVsxXSA9IFwiQHN1cHBvcnRzIChcIi5jb25jYXQoaXRlbVs0XSwgXCIpIHtcIikuY29uY2F0KGl0ZW1bMV0sIFwifVwiKTtcbiAgICAgICAgICBpdGVtWzRdID0gc3VwcG9ydHM7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGxpc3QucHVzaChpdGVtKTtcbiAgICB9XG4gIH07XG4gIHJldHVybiBsaXN0O1xufTsiLCJcInVzZSBzdHJpY3RcIjtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXRlbSkge1xuICB2YXIgY29udGVudCA9IGl0ZW1bMV07XG4gIHZhciBjc3NNYXBwaW5nID0gaXRlbVszXTtcbiAgaWYgKCFjc3NNYXBwaW5nKSB7XG4gICAgcmV0dXJuIGNvbnRlbnQ7XG4gIH1cbiAgaWYgKHR5cGVvZiBidG9hID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICB2YXIgYmFzZTY0ID0gYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoY3NzTWFwcGluZykpKSk7XG4gICAgdmFyIGRhdGEgPSBcInNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LFwiLmNvbmNhdChiYXNlNjQpO1xuICAgIHZhciBzb3VyY2VNYXBwaW5nID0gXCIvKiMgXCIuY29uY2F0KGRhdGEsIFwiICovXCIpO1xuICAgIHJldHVybiBbY29udGVudF0uY29uY2F0KFtzb3VyY2VNYXBwaW5nXSkuam9pbihcIlxcblwiKTtcbiAgfVxuICByZXR1cm4gW2NvbnRlbnRdLmpvaW4oXCJcXG5cIik7XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgc3R5bGVzSW5ET00gPSBbXTtcbmZ1bmN0aW9uIGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpIHtcbiAgdmFyIHJlc3VsdCA9IC0xO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlc0luRE9NLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHN0eWxlc0luRE9NW2ldLmlkZW50aWZpZXIgPT09IGlkZW50aWZpZXIpIHtcbiAgICAgIHJlc3VsdCA9IGk7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIG1vZHVsZXNUb0RvbShsaXN0LCBvcHRpb25zKSB7XG4gIHZhciBpZENvdW50TWFwID0ge307XG4gIHZhciBpZGVudGlmaWVycyA9IFtdO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgaXRlbSA9IGxpc3RbaV07XG4gICAgdmFyIGlkID0gb3B0aW9ucy5iYXNlID8gaXRlbVswXSArIG9wdGlvbnMuYmFzZSA6IGl0ZW1bMF07XG4gICAgdmFyIGNvdW50ID0gaWRDb3VudE1hcFtpZF0gfHwgMDtcbiAgICB2YXIgaWRlbnRpZmllciA9IFwiXCIuY29uY2F0KGlkLCBcIiBcIikuY29uY2F0KGNvdW50KTtcbiAgICBpZENvdW50TWFwW2lkXSA9IGNvdW50ICsgMTtcbiAgICB2YXIgaW5kZXhCeUlkZW50aWZpZXIgPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICB2YXIgb2JqID0ge1xuICAgICAgY3NzOiBpdGVtWzFdLFxuICAgICAgbWVkaWE6IGl0ZW1bMl0sXG4gICAgICBzb3VyY2VNYXA6IGl0ZW1bM10sXG4gICAgICBzdXBwb3J0czogaXRlbVs0XSxcbiAgICAgIGxheWVyOiBpdGVtWzVdXG4gICAgfTtcbiAgICBpZiAoaW5kZXhCeUlkZW50aWZpZXIgIT09IC0xKSB7XG4gICAgICBzdHlsZXNJbkRPTVtpbmRleEJ5SWRlbnRpZmllcl0ucmVmZXJlbmNlcysrO1xuICAgICAgc3R5bGVzSW5ET01baW5kZXhCeUlkZW50aWZpZXJdLnVwZGF0ZXIob2JqKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIHVwZGF0ZXIgPSBhZGRFbGVtZW50U3R5bGUob2JqLCBvcHRpb25zKTtcbiAgICAgIG9wdGlvbnMuYnlJbmRleCA9IGk7XG4gICAgICBzdHlsZXNJbkRPTS5zcGxpY2UoaSwgMCwge1xuICAgICAgICBpZGVudGlmaWVyOiBpZGVudGlmaWVyLFxuICAgICAgICB1cGRhdGVyOiB1cGRhdGVyLFxuICAgICAgICByZWZlcmVuY2VzOiAxXG4gICAgICB9KTtcbiAgICB9XG4gICAgaWRlbnRpZmllcnMucHVzaChpZGVudGlmaWVyKTtcbiAgfVxuICByZXR1cm4gaWRlbnRpZmllcnM7XG59XG5mdW5jdGlvbiBhZGRFbGVtZW50U3R5bGUob2JqLCBvcHRpb25zKSB7XG4gIHZhciBhcGkgPSBvcHRpb25zLmRvbUFQSShvcHRpb25zKTtcbiAgYXBpLnVwZGF0ZShvYmopO1xuICB2YXIgdXBkYXRlciA9IGZ1bmN0aW9uIHVwZGF0ZXIobmV3T2JqKSB7XG4gICAgaWYgKG5ld09iaikge1xuICAgICAgaWYgKG5ld09iai5jc3MgPT09IG9iai5jc3MgJiYgbmV3T2JqLm1lZGlhID09PSBvYmoubWVkaWEgJiYgbmV3T2JqLnNvdXJjZU1hcCA9PT0gb2JqLnNvdXJjZU1hcCAmJiBuZXdPYmouc3VwcG9ydHMgPT09IG9iai5zdXBwb3J0cyAmJiBuZXdPYmoubGF5ZXIgPT09IG9iai5sYXllcikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBhcGkudXBkYXRlKG9iaiA9IG5ld09iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFwaS5yZW1vdmUoKTtcbiAgICB9XG4gIH07XG4gIHJldHVybiB1cGRhdGVyO1xufVxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAobGlzdCwgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgbGlzdCA9IGxpc3QgfHwgW107XG4gIHZhciBsYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucyk7XG4gIHJldHVybiBmdW5jdGlvbiB1cGRhdGUobmV3TGlzdCkge1xuICAgIG5ld0xpc3QgPSBuZXdMaXN0IHx8IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGFzdElkZW50aWZpZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaWRlbnRpZmllciA9IGxhc3RJZGVudGlmaWVyc1tpXTtcbiAgICAgIHZhciBpbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpO1xuICAgICAgc3R5bGVzSW5ET01baW5kZXhdLnJlZmVyZW5jZXMtLTtcbiAgICB9XG4gICAgdmFyIG5ld0xhc3RJZGVudGlmaWVycyA9IG1vZHVsZXNUb0RvbShuZXdMaXN0LCBvcHRpb25zKTtcbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgbGFzdElkZW50aWZpZXJzLmxlbmd0aDsgX2krKykge1xuICAgICAgdmFyIF9pZGVudGlmaWVyID0gbGFzdElkZW50aWZpZXJzW19pXTtcbiAgICAgIHZhciBfaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihfaWRlbnRpZmllcik7XG4gICAgICBpZiAoc3R5bGVzSW5ET01bX2luZGV4XS5yZWZlcmVuY2VzID09PSAwKSB7XG4gICAgICAgIHN0eWxlc0luRE9NW19pbmRleF0udXBkYXRlcigpO1xuICAgICAgICBzdHlsZXNJbkRPTS5zcGxpY2UoX2luZGV4LCAxKTtcbiAgICAgIH1cbiAgICB9XG4gICAgbGFzdElkZW50aWZpZXJzID0gbmV3TGFzdElkZW50aWZpZXJzO1xuICB9O1xufTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIG1lbW8gPSB7fTtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBnZXRUYXJnZXQodGFyZ2V0KSB7XG4gIGlmICh0eXBlb2YgbWVtb1t0YXJnZXRdID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgdmFyIHN0eWxlVGFyZ2V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXQpO1xuXG4gICAgLy8gU3BlY2lhbCBjYXNlIHRvIHJldHVybiBoZWFkIG9mIGlmcmFtZSBpbnN0ZWFkIG9mIGlmcmFtZSBpdHNlbGZcbiAgICBpZiAod2luZG93LkhUTUxJRnJhbWVFbGVtZW50ICYmIHN0eWxlVGFyZ2V0IGluc3RhbmNlb2Ygd2luZG93LkhUTUxJRnJhbWVFbGVtZW50KSB7XG4gICAgICB0cnkge1xuICAgICAgICAvLyBUaGlzIHdpbGwgdGhyb3cgYW4gZXhjZXB0aW9uIGlmIGFjY2VzcyB0byBpZnJhbWUgaXMgYmxvY2tlZFxuICAgICAgICAvLyBkdWUgdG8gY3Jvc3Mtb3JpZ2luIHJlc3RyaWN0aW9uc1xuICAgICAgICBzdHlsZVRhcmdldCA9IHN0eWxlVGFyZ2V0LmNvbnRlbnREb2N1bWVudC5oZWFkO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAvLyBpc3RhbmJ1bCBpZ25vcmUgbmV4dFxuICAgICAgICBzdHlsZVRhcmdldCA9IG51bGw7XG4gICAgICB9XG4gICAgfVxuICAgIG1lbW9bdGFyZ2V0XSA9IHN0eWxlVGFyZ2V0O1xuICB9XG4gIHJldHVybiBtZW1vW3RhcmdldF07XG59XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gaW5zZXJ0QnlTZWxlY3RvcihpbnNlcnQsIHN0eWxlKSB7XG4gIHZhciB0YXJnZXQgPSBnZXRUYXJnZXQoaW5zZXJ0KTtcbiAgaWYgKCF0YXJnZXQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZG4ndCBmaW5kIGEgc3R5bGUgdGFyZ2V0LiBUaGlzIHByb2JhYmx5IG1lYW5zIHRoYXQgdGhlIHZhbHVlIGZvciB0aGUgJ2luc2VydCcgcGFyYW1ldGVyIGlzIGludmFsaWQuXCIpO1xuICB9XG4gIHRhcmdldC5hcHBlbmRDaGlsZChzdHlsZSk7XG59XG5tb2R1bGUuZXhwb3J0cyA9IGluc2VydEJ5U2VsZWN0b3I7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpIHtcbiAgdmFyIGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XG4gIG9wdGlvbnMuc2V0QXR0cmlidXRlcyhlbGVtZW50LCBvcHRpb25zLmF0dHJpYnV0ZXMpO1xuICBvcHRpb25zLmluc2VydChlbGVtZW50LCBvcHRpb25zLm9wdGlvbnMpO1xuICByZXR1cm4gZWxlbWVudDtcbn1cbm1vZHVsZS5leHBvcnRzID0gaW5zZXJ0U3R5bGVFbGVtZW50OyIsIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIHNldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcyhzdHlsZUVsZW1lbnQpIHtcbiAgdmFyIG5vbmNlID0gdHlwZW9mIF9fd2VicGFja19ub25jZV9fICE9PSBcInVuZGVmaW5lZFwiID8gX193ZWJwYWNrX25vbmNlX18gOiBudWxsO1xuICBpZiAobm9uY2UpIHtcbiAgICBzdHlsZUVsZW1lbnQuc2V0QXR0cmlidXRlKFwibm9uY2VcIiwgbm9uY2UpO1xuICB9XG59XG5tb2R1bGUuZXhwb3J0cyA9IHNldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlczsiLCJcInVzZSBzdHJpY3RcIjtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBhcHBseShzdHlsZUVsZW1lbnQsIG9wdGlvbnMsIG9iaikge1xuICB2YXIgY3NzID0gXCJcIjtcbiAgaWYgKG9iai5zdXBwb3J0cykge1xuICAgIGNzcyArPSBcIkBzdXBwb3J0cyAoXCIuY29uY2F0KG9iai5zdXBwb3J0cywgXCIpIHtcIik7XG4gIH1cbiAgaWYgKG9iai5tZWRpYSkge1xuICAgIGNzcyArPSBcIkBtZWRpYSBcIi5jb25jYXQob2JqLm1lZGlhLCBcIiB7XCIpO1xuICB9XG4gIHZhciBuZWVkTGF5ZXIgPSB0eXBlb2Ygb2JqLmxheWVyICE9PSBcInVuZGVmaW5lZFwiO1xuICBpZiAobmVlZExheWVyKSB7XG4gICAgY3NzICs9IFwiQGxheWVyXCIuY29uY2F0KG9iai5sYXllci5sZW5ndGggPiAwID8gXCIgXCIuY29uY2F0KG9iai5sYXllcikgOiBcIlwiLCBcIiB7XCIpO1xuICB9XG4gIGNzcyArPSBvYmouY3NzO1xuICBpZiAobmVlZExheWVyKSB7XG4gICAgY3NzICs9IFwifVwiO1xuICB9XG4gIGlmIChvYmoubWVkaWEpIHtcbiAgICBjc3MgKz0gXCJ9XCI7XG4gIH1cbiAgaWYgKG9iai5zdXBwb3J0cykge1xuICAgIGNzcyArPSBcIn1cIjtcbiAgfVxuICB2YXIgc291cmNlTWFwID0gb2JqLnNvdXJjZU1hcDtcbiAgaWYgKHNvdXJjZU1hcCAmJiB0eXBlb2YgYnRvYSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgIGNzcyArPSBcIlxcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsXCIuY29uY2F0KGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSksIFwiICovXCIpO1xuICB9XG5cbiAgLy8gRm9yIG9sZCBJRVxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgICovXG4gIG9wdGlvbnMuc3R5bGVUYWdUcmFuc2Zvcm0oY3NzLCBzdHlsZUVsZW1lbnQsIG9wdGlvbnMub3B0aW9ucyk7XG59XG5mdW5jdGlvbiByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGVFbGVtZW50KSB7XG4gIC8vIGlzdGFuYnVsIGlnbm9yZSBpZlxuICBpZiAoc3R5bGVFbGVtZW50LnBhcmVudE5vZGUgPT09IG51bGwpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgc3R5bGVFbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3R5bGVFbGVtZW50KTtcbn1cblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBkb21BUEkob3B0aW9ucykge1xuICBpZiAodHlwZW9mIGRvY3VtZW50ID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlKCkge30sXG4gICAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZSgpIHt9XG4gICAgfTtcbiAgfVxuICB2YXIgc3R5bGVFbGVtZW50ID0gb3B0aW9ucy5pbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucyk7XG4gIHJldHVybiB7XG4gICAgdXBkYXRlOiBmdW5jdGlvbiB1cGRhdGUob2JqKSB7XG4gICAgICBhcHBseShzdHlsZUVsZW1lbnQsIG9wdGlvbnMsIG9iaik7XG4gICAgfSxcbiAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZSgpIHtcbiAgICAgIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZUVsZW1lbnQpO1xuICAgIH1cbiAgfTtcbn1cbm1vZHVsZS5leHBvcnRzID0gZG9tQVBJOyIsIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIHN0eWxlVGFnVHJhbnNmb3JtKGNzcywgc3R5bGVFbGVtZW50KSB7XG4gIGlmIChzdHlsZUVsZW1lbnQuc3R5bGVTaGVldCkge1xuICAgIHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7XG4gIH0gZWxzZSB7XG4gICAgd2hpbGUgKHN0eWxlRWxlbWVudC5maXJzdENoaWxkKSB7XG4gICAgICBzdHlsZUVsZW1lbnQucmVtb3ZlQ2hpbGQoc3R5bGVFbGVtZW50LmZpcnN0Q2hpbGQpO1xuICAgIH1cbiAgICBzdHlsZUVsZW1lbnQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKSk7XG4gIH1cbn1cbm1vZHVsZS5leHBvcnRzID0gc3R5bGVUYWdUcmFuc2Zvcm07IiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHRpZDogbW9kdWxlSWQsXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSAobW9kdWxlKSA9PiB7XG5cdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuXHRcdCgpID0+IChtb2R1bGVbJ2RlZmF1bHQnXSkgOlxuXHRcdCgpID0+IChtb2R1bGUpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCB7IGE6IGdldHRlciB9KTtcblx0cmV0dXJuIGdldHRlcjtcbn07IiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsIl9fd2VicGFja19yZXF1aXJlX18ubmMgPSB1bmRlZmluZWQ7IiwiXG4gICAgICBpbXBvcnQgQVBJIGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzXCI7XG4gICAgICBpbXBvcnQgZG9tQVBJIGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVEb21BUEkuanNcIjtcbiAgICAgIGltcG9ydCBpbnNlcnRGbiBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydEJ5U2VsZWN0b3IuanNcIjtcbiAgICAgIGltcG9ydCBzZXRBdHRyaWJ1dGVzIGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc2V0QXR0cmlidXRlc1dpdGhvdXRBdHRyaWJ1dGVzLmpzXCI7XG4gICAgICBpbXBvcnQgaW5zZXJ0U3R5bGVFbGVtZW50IGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0U3R5bGVFbGVtZW50LmpzXCI7XG4gICAgICBpbXBvcnQgc3R5bGVUYWdUcmFuc2Zvcm1GbiBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlVGFnVHJhbnNmb3JtLmpzXCI7XG4gICAgICBpbXBvcnQgY29udGVudCwgKiBhcyBuYW1lZEV4cG9ydCBmcm9tIFwiISEuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL3N0eWxlLmNzc1wiO1xuICAgICAgXG4gICAgICBcblxudmFyIG9wdGlvbnMgPSB7fTtcblxub3B0aW9ucy5zdHlsZVRhZ1RyYW5zZm9ybSA9IHN0eWxlVGFnVHJhbnNmb3JtRm47XG5vcHRpb25zLnNldEF0dHJpYnV0ZXMgPSBzZXRBdHRyaWJ1dGVzO1xuXG4gICAgICBvcHRpb25zLmluc2VydCA9IGluc2VydEZuLmJpbmQobnVsbCwgXCJoZWFkXCIpO1xuICAgIFxub3B0aW9ucy5kb21BUEkgPSBkb21BUEk7XG5vcHRpb25zLmluc2VydFN0eWxlRWxlbWVudCA9IGluc2VydFN0eWxlRWxlbWVudDtcblxudmFyIHVwZGF0ZSA9IEFQSShjb250ZW50LCBvcHRpb25zKTtcblxuXG5cbmV4cG9ydCAqIGZyb20gXCIhIS4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vc3R5bGUuY3NzXCI7XG4gICAgICAgZXhwb3J0IGRlZmF1bHQgY29udGVudCAmJiBjb250ZW50LmxvY2FscyA/IGNvbnRlbnQubG9jYWxzIDogdW5kZWZpbmVkO1xuIiwiZXhwb3J0IGRlZmF1bHQgKHgsIHkpID0+IHtcbiAgICBpZiAoXG4gICAgICAgIHR5cGVvZiB4ICE9PSBcIm51bWJlclwiIHx8XG4gICAgICAgIHR5cGVvZiB5ICE9PSBcIm51bWJlclwiIHx8XG4gICAgICAgIGlzTmFOKHgpIHx8XG4gICAgICAgIGlzTmFOKHkpXG4gICAgKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJOdW1iZXIgYXJndW1lbnRzIGFyZSBleHBlY3RlZFwiKTtcbiAgICB9XG5cbiAgICBpZiAoeCA8IDAgfHwgeCA+IDkgfHwgeSA8IDAgfHwgeSA+IDkpXG4gICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFxuICAgICAgICAgICAgXCJ4IGFuZCB5IGNvb3JkaW5hdGVzIGFyZSByZXF1aXJlZCB0byBiZSBiZXR3ZWVuIDAtOVwiXG4gICAgICAgICk7XG5cbiAgICBjb25zdCBfeCA9IHg7XG4gICAgY29uc3QgX3kgPSB5O1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgZ2V0WDogKCkgPT4gX3gsXG4gICAgICAgIGdldFk6ICgpID0+IF95LFxuICAgICAgICBnZXRUeXBlOiAoKSA9PiBcIlBvaW50XCIsXG4gICAgICAgIGpzb246ICgpID0+IGB7XCJ4XCI6ICR7X3h9LCBcInlcIjogJHtfeX19YCxcbiAgICB9O1xufTtcbiIsImV4cG9ydCBkZWZhdWx0ICgoKSA9PiB7XG4gICAgbGV0IGV2ZW50cyA9IHt9O1xuICAgIGxldCB0b2tlbiA9IDA7XG5cbiAgICBjb25zdCBzdWJzY3JpYmUgPSAoZXZlbnQsIGZ1bmMpID0+IHtcbiAgICAgICAgZXZlbnRzW2V2ZW50XSA9IFtdO1xuICAgICAgICB0b2tlbisrO1xuICAgICAgICBldmVudHNbZXZlbnRdLnB1c2goe1xuICAgICAgICAgICAgdG9rZW4sXG4gICAgICAgICAgICBmdW5jLFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRva2VuO1xuICAgIH07XG5cbiAgICBjb25zdCB1bnN1YnNjcmliZSA9IChldmVudCwgdG9rZW4pID0+IHtcbiAgICAgICAgaWYoIWV2ZW50KSB0aHJvdyBUeXBlRXJyb3IoJ0FuIGV2ZW50IGlzIGV4cGVjdGVkJylcbiAgICAgICAgaWYgKCF0b2tlbikgdGhyb3cgVHlwZUVycm9yKFwiQSB0b2tlbiBpcyBleHBlY3RlZFwiKTtcbiAgICAgICAgaWYoZXZlbnRzW2V2ZW50XSkgdGhyb3cgVHlwZUVycm9yKCdObyBtYXRjaGluZyBldmVudCBmb3VuZCcpO1xuICAgICAgICBcbiAgICAgICAgY29uc3QgbmV3U3VicyA9IGV2ZW50c1tldmVudF0uZmlsdGVyKChzKSA9PiAhKHMudG9rZW4gPT09IHRva2VuKSk7XG4gICAgICAgIGlmKG5ld1N1YnMubGVuZ3RoID09PSBldmVudHNbZXZlbnRdLmxlbmd0aCkgdGhyb3cgVHlwZUVycm9yKGBObyB0b2tlbiBtYXRjaGluZyAke3Rva2VufSB3YXMgZm91bmRgKVxuICAgICAgICBldmVudHNbZXZlbnRdID0gbmV3U3VicztcbiAgICB9O1xuICAgIGNvbnN0IHB1Ymxpc2ggPSAoZXZlbnQpID0+IHtcbiAgICAgICAgaWYoZXZlbnRzW2V2ZW50XSA9PT0gdW5kZWZpbmVkKSB0aHJvdyBUeXBlRXJyb3IoYFwiJHtldmVudH1cIiBldmVudCBoYXMgbm8gc3Vic2NyaWJlcnMgeWV0LmApXG4gICAgICAgIGV2ZW50c1tldmVudF0uZm9yRWFjaCgocykgPT4gcy5mdW5jKCkpO1xuICAgIH07XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBzdWJzY3JpYmUsXG4gICAgICAgIHVuc3Vic2NyaWJlLFxuICAgICAgICBwdWJsaXNoLFxuICAgIH07XG59KSgpO1xuIiwiaW1wb3J0IFBvaW50IGZyb20gXCIuLi9sb2dpYy9Qb2ludFwiO1xuaW1wb3J0IFB1YlN1YiBmcm9tIFwiLi4vbG9naWMvUHViU3ViXCI7XG5cbmV4cG9ydCBkZWZhdWx0IChnYW1lLCB0aXRsZSwgc2hpcHMpID0+IHtcbiAgICBjb25zdCBwYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wYWdlLWNvbnRhaW5lclwiKTtcblxuICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgY29udGFpbmVyLmNsYXNzTGlzdCA9IFwiYm9hcmQtY29udGFpbmVyXCI7XG4gICAgY29uc3QgdGl0bGVEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaDNcIik7XG4gICAgdGl0bGVEaXYuaW5uZXJUZXh0ID0gdGl0bGU7XG4gICAgdGl0bGVEaXYuY2xhc3NMaXN0ID0gXCJib2FyZC10aXRsZVwiO1xuXG4gICAgY29uc3QgYm9hcmQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGJvYXJkLmNsYXNzTGlzdCA9IFwiYm9hcmRcIjtcblxuICAgIGlmKCFzaGlwcyl7XG5cbiAgICB9IGVsc2V7XG4gICAgICAgIFB1YlN1Yi5zdWJzY3JpYmUoXCJlbmVteVNob3RcIiwgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZW5lbXlTaG90cyA9IGdhbWUuZ2V0RW5lbXlCb2FyZCgpLmdldFNob3RzKCk7XG4gICAgICAgICAgICBjb25zdCBsYXRlc3RTaG90ID0gZW5lbXlTaG90c1tlbmVteVNob3RzLmxlbmd0aCAtIDFdO1xuXG4gICAgICAgICAgICBib2FyZC5xdWVyeVNlbGVjdG9yKGBbeD1cIiR7bGF0ZXN0U2hvdC5nZXRYKCl9XCJdW3k9XCIke2xhdGVzdFNob3QuZ2V0WSgpfVwiXWApXG4gICAgICAgICAgICAgICAgLmNsYXNzTGlzdC5hZGQoJ2VuZW15LXNob3QnKVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZm9yIChsZXQgeSA9IDk7IHkgPj0gMDsgeS0tKSB7XG4gICAgICAgIGZvciAobGV0IHggPSAwOyB4IDwgMTA7IHgrKykge1xuICAgICAgICAgICAgY29uc3QgbmV3UG9pbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgbmV3UG9pbnQuc2V0QXR0cmlidXRlKFwieFwiLCB4KTtcbiAgICAgICAgICAgIG5ld1BvaW50LnNldEF0dHJpYnV0ZShcInlcIiwgeSk7XG4gICAgICAgICAgICBuZXdQb2ludC5jbGFzc0xpc3QgPSBcImJvYXJkLWl0ZW1cIjtcblxuICAgICAgICAgICAgaWYgKCFzaGlwcykge1xuICAgICAgICAgICAgICAgIGNvbnRhaW5lci5zdHlsZS52aXNpYmlsaXR5ID0gXCJoaWRkZW5cIjtcbiAgICAgICAgICAgICAgICBQdWJTdWIuc3Vic2NyaWJlKFwiZ2FtZVN0YXJ0ZWRcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb250YWluZXIuc3R5bGUudmlzaWJpbGl0eSA9IFwidmlzaWJsZVwiO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIG5ld1BvaW50LmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgICAgICAgICAgIFwiY2xpY2tcIixcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdhbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmdldFBsYXllckJvYXJkKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnNob290KGdhbWUuZ2V0RW5lbXlQbGF5ZXIoKSwgUG9pbnQoeCwgeSkpXG4gICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNsYXNzTGlzdC5hZGQoXCJwbGF5ZXItaGl0XCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNsYXNzTGlzdC5hZGQoXCJwbGF5ZXItbWlzc2VkXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pbm5lclRleHQgPSBcIlhcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIFB1YlN1Yi5wdWJsaXNoKFwidXNlclNob3RcIik7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHsgb25jZTogdHJ1ZSB9XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbGV0IGNsYXNzVG9BZGQ7XG4gICAgICAgICAgICAgICAgbmV3UG9pbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlb3ZlclwiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRtcFNoaXAgPSBnYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAuZ2V0UGxheWVyKClcbiAgICAgICAgICAgICAgICAgICAgICAgIC5nZXRTaGlwKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdhbWUuZ2V0U2l6ZSgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBvaW50KHgsIHkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdhbWUuZ2V0RGlyZWN0aW9uKClcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IHBvaW50IG9mIHRtcFNoaXAuY29vcmRpbmF0ZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGJvYXJkSXRlbSA9IGJvYXJkLnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYFt4PVwiJHtwb2ludC5nZXRYKCl9XCJdW3k9XCIke3BvaW50LmdldFkoKX1cIl1gXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRtcFNoaXAuaXNQbGFjZWFibGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc1RvQWRkID0gXCJwbGF5ZXItcGxhY2VhYmxlXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzVG9BZGQgPSBcInBsYXllci1vY2N1cGllZFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYm9hcmRJdGVtLmNsYXNzTGlzdC5hZGQoY2xhc3NUb0FkZCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBuZXdQb2ludC5hZGRFdmVudExpc3RlbmVyKFwibW91c2VvdXRcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBpdGVtcyA9IGJvYXJkLnF1ZXJ5U2VsZWN0b3JBbGwoXCIuYm9hcmQtaXRlbVwiKTtcbiAgICAgICAgICAgICAgICAgICAgaXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4gaXRlbS5jbGFzc0xpc3QucmVtb3ZlKGNsYXNzVG9BZGQpKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBuZXdQb2ludC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBnYW1lLmFkZFNoaXAoUG9pbnQoeCwgeSkpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgZ2FtZVxuICAgICAgICAgICAgICAgICAgICAgICAgLmdldFBsYXllcigpXG4gICAgICAgICAgICAgICAgICAgICAgICAuZ2V0T2NjdXBpZWQoKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmZpbmQoKGUpID0+IGUuZ2V0WCgpID09PSB4ICYmIGUuZ2V0WSgpID09PSB5KVxuICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICBuZXdQb2ludC5jbGFzc0xpc3QuYWRkKFwicGxheWVyLXNoaXBcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYm9hcmQuYXBwZW5kQ2hpbGQobmV3UG9pbnQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnRhaW5lci5hcHBlbmQodGl0bGVEaXYsIGJvYXJkKTtcbiAgICByZXR1cm4gY29udGFpbmVyO1xufTtcbiIsImV4cG9ydCBkZWZhdWx0IChnYW1lKSA9PiB7XG4gICAgY29uc3QgcGFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucGFnZS1jb250YWluZXJcIik7XG5cbiAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGNvbnRhaW5lci5jbGFzc0xpc3QgPSBcInNoaXAtc2VsZWN0aW9uXCI7XG5cbiAgICBjb25zdCBkaXJlY3Rpb25CdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICAgIGNvbnN0IHNtQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcbiAgICBjb25zdCBtZEJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gICAgY29uc3QgbGdCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICAgIGNvbnN0IHhsQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcblxuICAgIGRpcmVjdGlvbkJ0bi5pZCA9IFwiZGlyZWN0aW9uQnRuXCI7XG4gICAgc21CdG4uaWQgPSBcInNtQnRuXCI7XG4gICAgbWRCdG4uaWQgPSBcIm1kQnRuXCI7XG4gICAgbGdCdG4uaWQgPSBcImxnQnRuXCI7XG4gICAgeGxCdG4uaWQgPSBcInhsQnRuXCI7XG5cbiAgICBkaXJlY3Rpb25CdG4uaW5uZXJUZXh0ID0gXCLwn6etXCI7XG4gICAgc21CdG4uaW5uZXJUZXh0ID0gXCJTbWFsbFwiO1xuICAgIG1kQnRuLmlubmVyVGV4dCA9IFwiTWVkaXVtXCI7XG4gICAgbGdCdG4uaW5uZXJUZXh0ID0gXCJMYXJnZVwiO1xuICAgIHhsQnRuLmlubmVyVGV4dCA9IFwiWExcIjtcblxuICAgIGNvbnN0IGRpcmVjdGlvblZhbHVlcyA9IChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGxldCBfZGF0YSA9IFtcInVwXCIsIFwicmlnaHRcIiwgXCJkb3duXCIsIFwibGVmdFwiXTtcbiAgICAgICAgbGV0IF9zZWxlY3RlZCA9IDA7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBnZXQ6ICgpID0+IF9kYXRhW19zZWxlY3RlZF0sXG4gICAgICAgICAgICBuZXh0OiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgX3NlbGVjdGVkKys7XG4gICAgICAgICAgICAgICAgaWYgKF9zZWxlY3RlZCA9PT0gX2RhdGEubGVuZ3RoKSBfc2VsZWN0ZWQgPSAwO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9KSgpO1xuICAgIGdhbWUuc2V0RGlyZWN0aW9uKGRpcmVjdGlvblZhbHVlcy5nZXQoKSk7XG4gICAgZGlyZWN0aW9uQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGRpcmVjdGlvblZhbHVlcy5uZXh0KCk7XG4gICAgICAgIGdhbWUuc2V0RGlyZWN0aW9uKGRpcmVjdGlvblZhbHVlcy5nZXQoKSk7XG4gICAgfSk7XG4gICAgbGV0IHNlbGVjdGVkU2l6ZTtcbiAgICBjb25zdCBjbGlja0hhbmRsZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNvbnN0IHNpYmxpbmdzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChgLmJ0bjpub3QoWyR7dGhpcy5pZH1dKWApO1xuICAgICAgICBzaWJsaW5ncy5mb3JFYWNoKChzKSA9PiBzLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVcIikpO1xuICAgICAgICB0aGlzLmNsYXNzTGlzdC5hZGQoXCJhY3RpdmVcIik7XG4gICAgICAgIHN3aXRjaCAodGhpcy5pZCkge1xuICAgICAgICAgICAgY2FzZSBcInNtQnRuXCI6XG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRTaXplID0gMjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJtZEJ0blwiOlxuICAgICAgICAgICAgICAgIHNlbGVjdGVkU2l6ZSA9IDM7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwibGdCdG5cIjpcbiAgICAgICAgICAgICAgICBzZWxlY3RlZFNpemUgPSA0O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcInhsQnRuXCI6XG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRTaXplID0gNTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgVHlwZUVycm9yKFwiVWtub3duIHNoaXAgdHlwZSB3YXMgY2xpY2tlZFwiKTtcbiAgICAgICAgfVxuICAgICAgICBnYW1lLnNldFNpemUoc2VsZWN0ZWRTaXplKTtcbiAgICB9O1xuICAgIHNtQnRuLm9uY2xpY2sgPVxuICAgICAgICBtZEJ0bi5vbmNsaWNrID1cbiAgICAgICAgbGdCdG4ub25jbGljayA9XG4gICAgICAgIHhsQnRuLm9uY2xpY2sgPVxuICAgICAgICAgICAgY2xpY2tIYW5kbGVyO1xuICAgIGNvbnRhaW5lci5hcHBlbmQoc21CdG4sIG1kQnRuLCBsZ0J0biwgeGxCdG4sIGRpcmVjdGlvbkJ0bik7XG4gICAgY29uc3QgY2hpbGRBcnJheSA9IEFycmF5LmZyb20oY29udGFpbmVyLmNoaWxkcmVuKTtcbiAgICBjaGlsZEFycmF5LmZvckVhY2goKGUpID0+IChlLmNsYXNzTGlzdCA9IFwiYnRuXCIpKTtcbiAgICBzbUJ0bi5jbGljaygpO1xuICAgIHJldHVybiBjb250YWluZXI7XG59O1xuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKCkge1xuICAgIGNvbnN0IF90eXBlID0gXCJCb2FyZFwiO1xuICAgIGxldCBfc2hvdHMgPSBbXTtcbiAgICBsZXQgX2hpdHMgPSAwO1xuICAgIHJldHVybiB7XG4gICAgICAgIGdldFR5cGU6ICgpID0+IF90eXBlLFxuICAgICAgICBnZXRTaG90czogKCkgPT4gX3Nob3RzLFxuICAgICAgICBzaG9vdDogKGVuZW15UGxheWVyLCBwb2ludCkgPT4ge1xuICAgICAgICAgICAgaWYgKCFlbmVteVBsYXllciB8fCBlbmVteVBsYXllci5nZXRUeXBlKCkgIT09IFwiUGxheWVyXCIpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcbiAgICAgICAgICAgICAgICAgICAgYEEgUGxheWVyIG9iamVjdCBpcyBleHBlY3RlZCwgJHtlbmVteVBsYXllcn0gcGFzc2VkYFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICBpZiAoIXBvaW50IHx8IHBvaW50LmdldFR5cGUoKSAhPT0gXCJQb2ludFwiKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJBIFBvaW50IG9iamVjdCBpcyByZXF1aXJlZFwiKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgX3Nob3RzLnB1c2gocG9pbnQpO1xuICAgICAgICAgICAgZm9yIChsZXQgZW5lbXlTaGlwIG9mIGVuZW15UGxheWVyLmdldFNoaXBzT3duZWQoKSkge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZW5lbXlTaGlwLmdldFNpemUoKTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZW15U2hpcC5jb29yZGluYXRlc1tpXS5qc29uKCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICBwb2ludC5qc29uKClcbiAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbmVteVNoaXAuaGl0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaGl0cysrO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0sXG4gICAgICAgIGdldEhpdHM6ICgpID0+IF9oaXRzLFxuICAgIH07XG59XG4iLCJpbXBvcnQgU2hpcCBmcm9tIFwiLi9TaGlwXCI7XG5pbXBvcnQgUG9pbnQgZnJvbSBcIi4vUG9pbnRcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKG5hbWUpIHtcbiAgICBpZiAoIW5hbWUpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJBIG5hbWUgaXMgZXhwZWN0ZWRcIik7XG4gICAgbGV0IF9uYW1lID0gbmFtZTtcbiAgICBsZXQgX3NoaXBzTGVmdCA9IHtcbiAgICAgICAgeGw6IDEsXG4gICAgICAgIGxnOiAxLFxuICAgICAgICBtZDogMixcbiAgICAgICAgc206IDEsXG4gICAgfTtcbiAgICBsZXQgX3NoaXBzT3duZWQgPSBbXTtcblxuICAgIGxldCBfb2NjdXBpZWRQb2ludHMgPSB7XG4gICAgICAgIF9kYXRhOiBbXSxcbiAgICAgICAgYWRkOiBmdW5jdGlvbiAocG9pbnRzQXJyYXkpIHtcbiAgICAgICAgICAgIGlmIChwb2ludHNBcnJheS5sZW5ndGggPiAwICYmIHRoaXMuaXNPY2N1cGllZChwb2ludHNBcnJheSkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBSYW5nZUVycm9yKFxuICAgICAgICAgICAgICAgICAgICBcIlNvbWUgb2YgdGhlIHNoaXBzIHBvaW50cyBhcmUgYWxyZWFkeSBvY2N1cGllZFwiXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2RhdGEgPSBbLi4udGhpcy5fZGF0YSwgLi4ucG9pbnRzQXJyYXldO1xuICAgICAgICB9LFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9kYXRhO1xuICAgICAgICB9LFxuICAgICAgICBpc09jY3VwaWVkOiBmdW5jdGlvbiAocG9pbnRzQXJyYXkpIHtcbiAgICAgICAgICAgIGZvciAobGV0IHBvaW50IG9mIHBvaW50c0FycmF5KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYSA9IHRoaXMuX2RhdGEuc29tZSgocCkgPT4gcC5qc29uKCkgPT09IHBvaW50Lmpzb24oKSk7XG4gICAgICAgICAgICAgICAgaWYgKGEpIHJldHVybiBhO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgIH07XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBnZXRUeXBlOiAoKSA9PiBcIlBsYXllclwiLFxuICAgICAgICBnZXROYW1lOiAoKSA9PiBfbmFtZSxcbiAgICAgICAgZ2V0U2hpcHNMZWZ0OiAoKSA9PiBfc2hpcHNMZWZ0LFxuICAgICAgICBnZXRTaGlwc093bmVkOiAoKSA9PiBfc2hpcHNPd25lZCxcbiAgICAgICAgZ2V0T2NjdXBpZWQ6ICgpID0+IF9vY2N1cGllZFBvaW50cy5nZXQoKSxcbiAgICAgICAgZ2V0U2hpcDogKHNpemUsIHN0YXJ0LCBkaXJlY3Rpb24pID0+IHtcbiAgICAgICAgICAgIGxldCBpc1BsYWNlYWJsZTtcbiAgICAgICAgICAgIGxldCBjdXJyZW50U2hpcFBvaW50cyA9IFtdO1xuICAgICAgICAgICAgaWYgKCFzaXplIHx8IHR5cGVvZiBzaXplICE9PSBcIm51bWJlclwiIHx8IGlzTmFOKHNpemUpKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJBIHNpemUgb2YgdHlwZSBudW1iZXIgaXMgZXhwZWN0ZWRcIik7XG4gICAgICAgICAgICBpZiAoIXN0YXJ0IHx8IHN0YXJ0LmdldFR5cGUoKSAhPT0gXCJQb2ludFwiKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJBIFBvaW50IG9iamVjdCBpcyBleHBlY3RlZFwiKTtcblxuICAgICAgICAgICAgc3dpdGNoIChkaXJlY3Rpb24pIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwidXBcIjpcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaXplOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGFydC5nZXRZKCkgKyBpID4gOSkgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwb2ludCA9IFBvaW50KHN0YXJ0LmdldFgoKSwgc3RhcnQuZ2V0WSgpICsgaSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50U2hpcFBvaW50cy5wdXNoKHBvaW50KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiZG93blwiOlxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNpemU7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXJ0LmdldFkoKSAtIGkgPCAwICkgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwb2ludCA9IFBvaW50KHN0YXJ0LmdldFgoKSwgc3RhcnQuZ2V0WSgpIC0gaSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50U2hpcFBvaW50cy5wdXNoKHBvaW50KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwicmlnaHRcIjpcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaXplOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGFydC5nZXRYKCkgKyBpID4gOSApIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcG9pbnQgPSBQb2ludChzdGFydC5nZXRYKCkgKyBpLCBzdGFydC5nZXRZKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFNoaXBQb2ludHMucHVzaChwb2ludCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcImxlZnRcIjpcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaXplOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGFydC5nZXRYKCkgLSBpIDwgMCApIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcG9pbnQgPSBQb2ludChzdGFydC5nZXRYKCkgLSBpLCBzdGFydC5nZXRZKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFNoaXBQb2ludHMucHVzaChwb2ludCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgVHlwZUVycm9yKFxuICAgICAgICAgICAgICAgICAgICAgICAgYERpcmVjdGlvbiBtdXN0IGJlIHVwLCBkb3duLCByaWdodCBvciBsZWZ0LiAke2RpcmVjdGlvbn0gcGFzc2VkYFxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaXNQbGFjZWFibGUgPVxuICAgICAgICAgICAgICAgICFfb2NjdXBpZWRQb2ludHMuaXNPY2N1cGllZChjdXJyZW50U2hpcFBvaW50cykgJiZcbiAgICAgICAgICAgICAgICBjdXJyZW50U2hpcFBvaW50cy5sZW5ndGggPT09IHNpemU7XG4gICAgICAgICAgICBjb25zdCBuZXdTaGlwID0gT2JqZWN0LmFzc2lnbih7fSwgU2hpcChzaXplKSwge1xuICAgICAgICAgICAgICAgIGNvb3JkaW5hdGVzOiBjdXJyZW50U2hpcFBvaW50cyxcbiAgICAgICAgICAgICAgICBpc1BsYWNlYWJsZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIG5ld1NoaXA7XG4gICAgICAgIH0sXG4gICAgICAgIGFkZFNoaXA6IGZ1bmN0aW9uIChzaXplLCBzdGFydCwgZGlyZWN0aW9uKSB7XG4gICAgICAgICAgICBjb25zdCBuZXdTaGlwID0gdGhpcy5nZXRTaGlwKHNpemUsIHN0YXJ0LCBkaXJlY3Rpb24pO1xuICAgICAgICAgICAgaWYoIW5ld1NoaXAuaXNQbGFjZWFibGUpe1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFwiU2hpcCBpcyBleGNlZWRpbmcgdGhlIGJvYXJkIG9yIGNvbGxpZGluZyB3aXRoIGFub3RoZXIgc2hpcCwgcGxlYXNlIHN0YXJ0LCBkaXJlY3Rpb24gYW5kIHNpemVcIilcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghbmV3U2hpcC5pc1BsYWNlYWJsZSkgcmV0dXJuO1xuICAgICAgICAgICAgbGV0IHR5cGU7XG4gICAgICAgICAgICBzd2l0Y2ggKHNpemUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIHR5cGUgPSBcInNtXCI7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgdHlwZSA9IFwibWRcIjtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICB0eXBlID0gXCJsZ1wiO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgICAgIHR5cGUgPSBcInhsXCI7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFxuICAgICAgICAgICAgICAgICAgICAgICAgYFNoaXAgc2l6ZSBtdXN0IGJlIGJldHdlZW4gMi01LCAke3NpemV9IHBhc3NlZGBcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghX3NoaXBzTGVmdFt0eXBlXSlcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcbiAgICAgICAgICAgICAgICAgICAgYFRyeWluZyB0byBjcmVhdGUgbWFueSBzaGlwcyBvZiB0eXBlICR7dHlwZX0uYFxuICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIF9vY2N1cGllZFBvaW50cy5hZGQobmV3U2hpcC5jb29yZGluYXRlcyk7XG4gICAgICAgICAgICBfc2hpcHNMZWZ0W3R5cGVdLS07XG4gICAgICAgICAgICBfc2hpcHNPd25lZC5wdXNoKG5ld1NoaXApO1xuICAgICAgICB9LFxuICAgIH07XG59XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoc2l6ZSkge1xuICAgIGlmICghc2l6ZSkge1xuICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIlNoaXAuanM6IE1pc3Npbmcgc2hpcCBzaXplXCIpO1xuICAgIH1cbiAgICBpZih0eXBlb2Ygc2l6ZSAhPT0gJ251bWJlcicpIHRocm93IG5ldyBUeXBlRXJyb3IoYFNoaXAuanM6IHNpemUgc2hvdWxkIGJlIG9mIHR5cGUgbnVtYmVyLiAke3R5cGVvZiBzaXplfSBwYXNzZWRgKVxuICAgIGlmIChzaXplID4gNSlcbiAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXG4gICAgICAgICAgICBgU2hpcHQuanM6IFRoZSBzaXplIGNhbiBiZSAyLTQsICR7c2l6ZX0gaXMgdG9vIGJpZ2BcbiAgICAgICAgKTtcbiAgICBpZiAoc2l6ZSA8IDIpXG4gICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFxuICAgICAgICAgICAgYFNoaXB0LmpzOiBUaGUgc2l6ZSBjYW4gYmUgMi00LCAke3NpemV9IGlzIHRvbyBzbWFsbGBcbiAgICAgICAgKTtcbiAgICBjb25zdCBfdHlwZSA9ICdTaGlwJztcbiAgICBjb25zdCBfc2l6ZSA9IHNpemU7XG4gICAgbGV0IF9oaXRzID0gMDtcbiAgICBsZXQgX2lzU3VuayA9IGZhbHNlO1xuICAgIHJldHVybiB7XG4gICAgICAgIGdldFR5cGU6ICgpID0+IF90eXBlLFxuICAgICAgICBnZXRTaXplOiAoKSA9PiBfc2l6ZSxcbiAgICAgICAgZ2V0SGl0czogKCkgPT4gX2hpdHMsXG4gICAgICAgIGdldElzU3VuazogKCkgPT4gX2lzU3VuayxcbiAgICAgICAgaGl0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfaGl0cysrO1xuICAgICAgICAgICAgaWYgKF9oaXRzID09PSBfc2l6ZSkgX2lzU3VuayA9IHRydWU7XG4gICAgICAgIH0sXG4gICAgICAgIFxuICAgIH07XG59XG4iLCJpbXBvcnQgUGxheWVyIGZyb20gXCIuL1BsYXllclwiO1xuaW1wb3J0IFBvaW50IGZyb20gXCIuL1BvaW50XCI7XG5cbmV4cG9ydCBkZWZhdWx0IChuYW1lKSA9PiB7XG4gICAgY29uc3QgX2JvdCA9IFBsYXllcihuYW1lKTtcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgX2JvdCwge1xuICAgICAgICBwb3B1bGF0ZTogKCkgPT4ge1xuICAgICAgICAgICAgZm9yIChsZXQgdHlwZSBpbiBfYm90LmdldFNoaXBzTGVmdCgpKSB7XG4gICAgICAgICAgICAgICAgd2hpbGUgKF9ib3QuZ2V0U2hpcHNMZWZ0KClbdHlwZV0gPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBfc2l6ZTtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwic21cIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfc2l6ZSA9IDI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwibWRcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfc2l6ZSA9IDM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwibGdcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfc2l6ZSA9IDQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwieGxcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfc2l6ZSA9IDU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBsZXQgX2RpcmVjdGlvbiA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDQgKyAxKTtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfZGlyZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2RpcmVjdGlvbiA9IFwidXBcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfZGlyZWN0aW9uID0gXCJyaWdodFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9kaXJlY3Rpb24gPSBcImRvd25cIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfZGlyZWN0aW9uID0gXCJsZWZ0XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbGV0IF9zaGlwO1xuICAgICAgICAgICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB4ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogOSArIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgeSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDkgKyAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9zaGlwID0gX2JvdC5nZXRTaGlwKF9zaXplLCBQb2ludCh4LCB5KSwgX2RpcmVjdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIH0gd2hpbGUgKCFfc2hpcC5pc1BsYWNlYWJsZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgX2JvdC5hZGRTaGlwKFxuICAgICAgICAgICAgICAgICAgICAgICAgX3NpemUsXG4gICAgICAgICAgICAgICAgICAgICAgICBfc2hpcC5jb29yZGluYXRlc1swXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9kaXJlY3Rpb25cbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgfSk7XG59O1xuIiwiaW1wb3J0IFwiLi9zdHlsZS5jc3NcIjtcbmltcG9ydCBtYWluIGZyb20gXCIuL3BhZ2VzL21haW5cIjtcbmltcG9ydCBHYW1lIGZyb20gXCIuL2xvZ2ljL0dhbWVcIjtcbmltcG9ydCBQbGF5ZXIgZnJvbSBcIi4vbG9naWMvUGxheWVyXCI7XG5pbXBvcnQgUGxheWVyQm90IGZyb20gXCIuL2xvZ2ljL1BsYXllckJvdFwiO1xuXG5jb25zdCBnYW1lID0gR2FtZSgpO1xuY29uc3QgcGxheWVyID0gUGxheWVyKFwiSm9lXCIpO1xuY29uc3QgZW5lbXkgPSBQbGF5ZXJCb3QoXCJBSVwiKTtcblxuZ2FtZS5pbml0KHBsYXllciwgZW5lbXkpO1xuZ2FtZS5zdGFydCgpO1xuXG5tYWluKGdhbWUpO1xuIiwiaW1wb3J0IEJvYXJkIGZyb20gXCIuL0JvYXJkXCI7XG5pbXBvcnQgUG9pbnQgZnJvbSBcIi4vUG9pbnRcIjtcbmltcG9ydCBQdWJTdWIgZnJvbSBcIi4vUHViU3ViXCI7XG5cbmV4cG9ydCBkZWZhdWx0ICgpID0+IHtcbiAgICBjb25zdCBfcGxheWVyQm9hcmQgPSBCb2FyZCgpO1xuICAgIGNvbnN0IF9lbmVteUJvYXJkID0gQm9hcmQoKTtcbiAgICBsZXQgX3BsYXllcjtcbiAgICBsZXQgX2VuZW15UGxheWVyO1xuICAgIGxldCBfc2VsZWN0ZWREaXJlY3Rpb24gPSBcInVwXCI7XG4gICAgbGV0IF9zZWxlY3RlZFNpemU7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgaW5pdDogKHBsYXllciwgZW5lbXlQbGF5ZXIpID0+IHtcbiAgICAgICAgICAgIF9wbGF5ZXIgPSBwbGF5ZXI7XG4gICAgICAgICAgICBfZW5lbXlQbGF5ZXIgPSBlbmVteVBsYXllcjtcblxuICAgICAgICAgICAgX2VuZW15UGxheWVyLnBvcHVsYXRlKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGdldFBsYXllckJvYXJkOiAoKSA9PiBfcGxheWVyQm9hcmQsXG4gICAgICAgIGdldFBsYXllcjogKCkgPT4gX3BsYXllcixcbiAgICAgICAgZ2V0RW5lbXlQbGF5ZXI6ICgpID0+IF9lbmVteVBsYXllcixcbiAgICAgICAgZ2V0RW5lbXlCb2FyZDogKCkgPT4gX2VuZW15Qm9hcmQsXG4gICAgICAgIHNldFNpemU6IChzaXplKSA9PiB7XG4gICAgICAgICAgICBpZiAoIXNpemUpIHRocm93IFR5cGVFcnJvcihcIkEgc2l6ZSBpcyBleHBlY3RlZFwiKTtcbiAgICAgICAgICAgIF9zZWxlY3RlZFNpemUgPSBzaXplO1xuICAgICAgICB9LFxuICAgICAgICBnZXRTaXplOiAoKSA9PiBfc2VsZWN0ZWRTaXplLFxuICAgICAgICBzZXREaXJlY3Rpb246IChkaXJlY3Rpb24pID0+IHtcbiAgICAgICAgICAgIGlmICghZGlyZWN0aW9uKSB0aHJvdyBUeXBlRXJyb3IoXCJBIGRpcmVjdGlvbiBpcyBleHBlY3RlZFwiKTtcbiAgICAgICAgICAgIF9zZWxlY3RlZERpcmVjdGlvbiA9IGRpcmVjdGlvbjtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0RGlyZWN0aW9uOiAoKSA9PiBfc2VsZWN0ZWREaXJlY3Rpb24sXG4gICAgICAgIGFkZFNoaXA6IGZ1bmN0aW9uIChwb2ludCkge1xuICAgICAgICAgICAgaWYgKCFwb2ludCkgdGhyb3cgVHlwZUVycm9yKFwiQSBQb2ludCBpcyBleHBlY3RlZFwiKTtcbiAgICAgICAgICAgIF9wbGF5ZXIuYWRkU2hpcChfc2VsZWN0ZWRTaXplLCBwb2ludCwgX3NlbGVjdGVkRGlyZWN0aW9uKTtcbiAgICAgICAgICAgIFB1YlN1Yi5wdWJsaXNoKFwic2hpcHNDaGFuZ2VkXCIpO1xuICAgICAgICB9LFxuICAgICAgICBzdGFydDogKCkgPT4ge1xuICAgICAgICAgICAgIGNvbnN0IHNoaXBzTGVmdCA9IF9wbGF5ZXIuZ2V0U2hpcHNMZWZ0KCk7XG4gICAgICAgICAgICAgY29uc3QgdG90YWxTaGlwcyA9IE9iamVjdC5rZXlzKHNoaXBzTGVmdCkucmVkdWNlKFxuICAgICAgICAgICAgICAgICAodG90YWwsIGtleSkgPT4gdG90YWwgKyBzaGlwc0xlZnRba2V5XSxcbiAgICAgICAgICAgICAgICAgMFxuICAgICAgICAgICAgICk7XG4gICAgICAgICAgICBjb25zdCBjYWxsYmFjayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpZiAoX3BsYXllci5nZXRTaGlwc093bmVkKCkubGVuZ3RoID09PSB0b3RhbFNoaXBzKSB7XG4gICAgICAgICAgICAgICAgICAgIFB1YlN1Yi5wdWJsaXNoKFwiZ2FtZVN0YXJ0ZWRcIik7XG5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGxheWVySFAgPSBfcGxheWVyLmdldE9jY3VwaWVkKCkubGVuZ3RoO1xuXG4gICAgICAgICAgICAgICAgICAgIFB1YlN1Yi5zdWJzY3JpYmUoXCJ1c2VyU2hvdFwiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3BsYXllckJvYXJkLmdldEhpdHMoKSA9PT0gcGxheWVySFApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGVydChcIllvdSB3b24hIVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBQdWJTdWIucHVibGlzaChcImdhbWVPdmVyXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHBvaW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgZG8ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgeSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb2ludCA9IFBvaW50KHgsIHkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGNvbnNvbGUubG9nKHBvaW50Lmpzb24oKSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSB3aGlsZSAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2VuZW15Qm9hcmRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmdldFNob3RzKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnNvbWUoKHApID0+IHAuanNvbigpID09PSBwb2ludC5qc29uKCkpXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfZW5lbXlCb2FyZC5zaG9vdChfcGxheWVyLCBwb2ludCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBQdWJTdWIucHVibGlzaChcImVuZW15U2hvdFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfZW5lbXlCb2FyZC5nZXRIaXRzKCkgPT09IHBsYXllckhQKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoXCJUaGUgZW5lbXkgd29uIDooXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFB1YlN1Yi5wdWJsaXNoKFwiZ2FtZU92ZXJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlVGltZW91dCA9IHNldFRpbWVvdXQoY2FsbGJhY2ssIDUwMCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGxldCBjb250aW51ZVRpbWVvdXQgPSBzZXRUaW1lb3V0KGNhbGxiYWNrLCA1MDApO1xuICAgICAgICB9XG4gICAgfTtcbn07XG4iLCJpbXBvcnQgaGVhZGVyIGZyb20gXCIuLi9jb21wb25lbnRzL3NlY3Rpb25zL2hlYWRlclwiO1xuaW1wb3J0IGJhdHRsZXNoaXAgZnJvbSAnLi4vY29tcG9uZW50cy9zZWN0aW9ucy9nYW1lJ1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoZ2FtZSkge1xuICAgIGNvbnN0IHBhZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucGFnZS1jb250YWluZXInKTtcblxuICAgIHBhZ2UuYXBwZW5kKGhlYWRlcigpLCBiYXR0bGVzaGlwKGdhbWUpKTtcbn1cbiIsImV4cG9ydCBkZWZhdWx0ICgpID0+IHtcbiAgICBjb25zdCBoZWFkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGhlYWRlci5jbGFzc0xpc3QgPSAnaGVhZGVyLXNlY3Rpb24nO1xuICAgIGhlYWRlci5pbm5lckhUTUwgPSBcIjxoMT5IYXN3ZWxsJ3MgQmF0dGxlc2hpcDwvaDE+XCI7XG5cbiAgICByZXR1cm4gaGVhZGVyO1xufTtcbiIsImltcG9ydCBnYW1lYm9hcmQgZnJvbSAnLi4vZ2FtZWJvYXJkJztcbmltcG9ydCBzaGlwU2VsZWN0aW9uIGZyb20gXCIuLi9zaGlwU2VsZWN0aW9uXCI7XG5pbXBvcnQgUHViU3ViIGZyb20gJy4uLy4uL2xvZ2ljL1B1YlN1Yic7XG5cblxuZXhwb3J0IGRlZmF1bHQgKGdhbWUpID0+IHtcbiAgICBjb25zdCBnYW1lU2VjdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGdhbWVTZWN0aW9uLmNsYXNzTGlzdCA9ICdnYW1lLXNlY3Rpb24nXG4gICAgY29uc3QgZW5lbXlCb2FyZCA9IGdhbWVib2FyZChnYW1lLCBcIkVuZW15IFNlYVwiKTtcbiAgICBsZXQgcGxheWVyQm9hcmQgPSBnYW1lYm9hcmQoXG4gICAgICAgIGdhbWUsXG4gICAgICAgIFwiTXkgU2VhXCIsXG4gICAgICAgIGdhbWUuZ2V0UGxheWVyKCkuZ2V0U2hpcHNPd25lZCgpXG4gICAgKTtcblxuICAgIGdhbWVTZWN0aW9uLmFwcGVuZChlbmVteUJvYXJkLCBwbGF5ZXJCb2FyZCwgc2hpcFNlbGVjdGlvbihnYW1lKSk7XG4gICAgXG4gICAgY29uc3QgcmVkcmF3Qm9hcmQgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IG5ld0JvYXJkID0gZ2FtZWJvYXJkKFxuICAgICAgICAgICAgZ2FtZSxcbiAgICAgICAgICAgIFwiTXkgU2VhXCIsXG4gICAgICAgICAgICBnYW1lLmdldFBsYXllcigpLmdldFNoaXBzT3duZWQoKVxuICAgICAgICApO1xuICAgICAgICBnYW1lU2VjdGlvbi5yZXBsYWNlQ2hpbGQobmV3Qm9hcmQsIHBsYXllckJvYXJkKTtcbiAgICAgICAgcGxheWVyQm9hcmQgPSBuZXdCb2FyZDtcbiAgICB9O1xuXG4gICAgUHViU3ViLnN1YnNjcmliZShcInNoaXBzQ2hhbmdlZFwiLCByZWRyYXdCb2FyZCk7XG5cbiAgICByZXR1cm4gZ2FtZVNlY3Rpb247XG59XG4iXSwibmFtZXMiOlsiX19fQ1NTX0xPQURFUl9FWFBPUlRfX18iLCJwdXNoIiwibW9kdWxlIiwiaWQiLCJleHBvcnRzIiwiY3NzV2l0aE1hcHBpbmdUb1N0cmluZyIsImxpc3QiLCJ0b1N0cmluZyIsInRoaXMiLCJtYXAiLCJpdGVtIiwiY29udGVudCIsIm5lZWRMYXllciIsImNvbmNhdCIsImxlbmd0aCIsImpvaW4iLCJpIiwibW9kdWxlcyIsIm1lZGlhIiwiZGVkdXBlIiwic3VwcG9ydHMiLCJsYXllciIsInVuZGVmaW5lZCIsImFscmVhZHlJbXBvcnRlZE1vZHVsZXMiLCJrIiwiX2siLCJjc3NNYXBwaW5nIiwiYnRvYSIsImJhc2U2NCIsInVuZXNjYXBlIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiSlNPTiIsInN0cmluZ2lmeSIsImRhdGEiLCJzb3VyY2VNYXBwaW5nIiwic3R5bGVzSW5ET00iLCJnZXRJbmRleEJ5SWRlbnRpZmllciIsImlkZW50aWZpZXIiLCJyZXN1bHQiLCJtb2R1bGVzVG9Eb20iLCJvcHRpb25zIiwiaWRDb3VudE1hcCIsImlkZW50aWZpZXJzIiwiYmFzZSIsImNvdW50IiwiaW5kZXhCeUlkZW50aWZpZXIiLCJvYmoiLCJjc3MiLCJzb3VyY2VNYXAiLCJyZWZlcmVuY2VzIiwidXBkYXRlciIsImFkZEVsZW1lbnRTdHlsZSIsImJ5SW5kZXgiLCJzcGxpY2UiLCJhcGkiLCJkb21BUEkiLCJ1cGRhdGUiLCJuZXdPYmoiLCJyZW1vdmUiLCJsYXN0SWRlbnRpZmllcnMiLCJuZXdMaXN0IiwiaW5kZXgiLCJuZXdMYXN0SWRlbnRpZmllcnMiLCJfaSIsIl9pbmRleCIsIm1lbW8iLCJpbnNlcnQiLCJzdHlsZSIsInRhcmdldCIsInN0eWxlVGFyZ2V0IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwid2luZG93IiwiSFRNTElGcmFtZUVsZW1lbnQiLCJjb250ZW50RG9jdW1lbnQiLCJoZWFkIiwiZSIsImdldFRhcmdldCIsIkVycm9yIiwiYXBwZW5kQ2hpbGQiLCJlbGVtZW50IiwiY3JlYXRlRWxlbWVudCIsInNldEF0dHJpYnV0ZXMiLCJhdHRyaWJ1dGVzIiwic3R5bGVFbGVtZW50Iiwibm9uY2UiLCJzZXRBdHRyaWJ1dGUiLCJpbnNlcnRTdHlsZUVsZW1lbnQiLCJzdHlsZVRhZ1RyYW5zZm9ybSIsImFwcGx5IiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwicmVtb3ZlU3R5bGVFbGVtZW50Iiwic3R5bGVTaGVldCIsImNzc1RleHQiLCJmaXJzdENoaWxkIiwiY3JlYXRlVGV4dE5vZGUiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwibiIsImdldHRlciIsIl9fZXNNb2R1bGUiLCJkIiwiYSIsImRlZmluaXRpb24iLCJrZXkiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwicHJvcCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsIm5jIiwibG9jYWxzIiwieCIsInkiLCJpc05hTiIsIlR5cGVFcnJvciIsIlJhbmdlRXJyb3IiLCJfeCIsIl95IiwiZ2V0WCIsImdldFkiLCJnZXRUeXBlIiwianNvbiIsImV2ZW50cyIsInRva2VuIiwic3Vic2NyaWJlIiwiZXZlbnQiLCJmdW5jIiwidW5zdWJzY3JpYmUiLCJuZXdTdWJzIiwiZmlsdGVyIiwicyIsInB1Ymxpc2giLCJmb3JFYWNoIiwiZ2FtZSIsInRpdGxlIiwic2hpcHMiLCJjb250YWluZXIiLCJjbGFzc0xpc3QiLCJ0aXRsZURpdiIsImlubmVyVGV4dCIsImJvYXJkIiwiUHViU3ViIiwiZW5lbXlTaG90cyIsImdldEVuZW15Qm9hcmQiLCJnZXRTaG90cyIsImxhdGVzdFNob3QiLCJhZGQiLCJuZXdQb2ludCIsImNsYXNzVG9BZGQiLCJhZGRFdmVudExpc3RlbmVyIiwidG1wU2hpcCIsImdldFBsYXllciIsImdldFNoaXAiLCJnZXRTaXplIiwiUG9pbnQiLCJnZXREaXJlY3Rpb24iLCJwb2ludCIsImNvb3JkaW5hdGVzIiwiYm9hcmRJdGVtIiwiaXNQbGFjZWFibGUiLCJxdWVyeVNlbGVjdG9yQWxsIiwiYWRkU2hpcCIsImdldE9jY3VwaWVkIiwiZmluZCIsInZpc2liaWxpdHkiLCJnZXRQbGF5ZXJCb2FyZCIsInNob290IiwiZ2V0RW5lbXlQbGF5ZXIiLCJvbmNlIiwiYXBwZW5kIiwiZGlyZWN0aW9uQnRuIiwic21CdG4iLCJtZEJ0biIsImxnQnRuIiwieGxCdG4iLCJkaXJlY3Rpb25WYWx1ZXMiLCJfZGF0YSIsIl9zZWxlY3RlZCIsIm5leHQiLCJzZWxlY3RlZFNpemUiLCJzZXREaXJlY3Rpb24iLCJvbmNsaWNrIiwic2V0U2l6ZSIsIkFycmF5IiwiZnJvbSIsImNoaWxkcmVuIiwiY2xpY2siLCJfc2hvdHMiLCJfaGl0cyIsImVuZW15UGxheWVyIiwiZW5lbXlTaGlwIiwiZ2V0U2hpcHNPd25lZCIsImhpdCIsImdldEhpdHMiLCJuYW1lIiwiX25hbWUiLCJfc2hpcHNMZWZ0IiwieGwiLCJsZyIsIm1kIiwic20iLCJfc2hpcHNPd25lZCIsIl9vY2N1cGllZFBvaW50cyIsInBvaW50c0FycmF5IiwiaXNPY2N1cGllZCIsInNvbWUiLCJwIiwiZ2V0TmFtZSIsImdldFNoaXBzTGVmdCIsInNpemUiLCJzdGFydCIsImRpcmVjdGlvbiIsImN1cnJlbnRTaGlwUG9pbnRzIiwibmV3U2hpcCIsImFzc2lnbiIsIl9zaXplIiwiX2lzU3VuayIsImdldElzU3VuayIsIlNoaXAiLCJ0eXBlIiwiX3BsYXllckJvYXJkIiwiQm9hcmQiLCJfZW5lbXlCb2FyZCIsIl9wbGF5ZXIiLCJfZW5lbXlQbGF5ZXIiLCJfc2VsZWN0ZWRTaXplIiwiX3NlbGVjdGVkRGlyZWN0aW9uIiwiaW5pdCIsInBsYXllciIsInBvcHVsYXRlIiwic2hpcHNMZWZ0IiwidG90YWxTaGlwcyIsImtleXMiLCJyZWR1Y2UiLCJ0b3RhbCIsImNhbGxiYWNrIiwicGxheWVySFAiLCJhbGVydCIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsImNvbnNvbGUiLCJsb2ciLCJjb250aW51ZVRpbWVvdXQiLCJzZXRUaW1lb3V0IiwiR2FtZSIsIlBsYXllciIsImVuZW15IiwiX2JvdCIsIl9zaGlwIiwiX2RpcmVjdGlvbiIsIlBsYXllckJvdCIsImhlYWRlciIsImlubmVySFRNTCIsImdhbWVTZWN0aW9uIiwiZW5lbXlCb2FyZCIsImdhbWVib2FyZCIsInBsYXllckJvYXJkIiwic2hpcFNlbGVjdGlvbiIsIm5ld0JvYXJkIiwicmVwbGFjZUNoaWxkIiwibWFpbiJdLCJzb3VyY2VSb290IjoiIn0=