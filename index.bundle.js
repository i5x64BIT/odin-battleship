(()=>{"use strict";var e={426:(e,n,t)=>{t.d(n,{Z:()=>s});var r=t(537),o=t.n(r),i=t(645),a=t.n(i)()(o());a.push([e.id,"html,\nbody,\ndiv,\np,\nbutton,\nh1,\nh2,\nh3 {\n    margin: 0;\n    padding: 0;\n}\nbutton {\n    appearance: none;\n}\n:root {\n    font-size: 14px;\n}\n/* Utility */\n.btn {\n    font-size: calc(1.1rem + 0.1vw);\n}\n.btn:hover {\n    background-color: lightblue;\n    cursor: pointer;\n}\n.btn.active {\n    background-color: blue;\n    color: white;\n}\n/* Layout */\n.page-container {\n    min-height: 100svh;\n}\n.game-section {\n    width: 65%;\n    max-width: 400px;\n    margin: auto;\n}\n.header-section {\n    padding-block: 1em;\n    background-color: blue;\n    color: white;\n    min-width: 100%;\n    text-align: center;\n    pointer-events: none;\n}\n.board-title {\n    text-align: center;\n}\n.board {\n    flex: 0;\n    background-color: pink;\n    display: flex;\n    flex-wrap: wrap;\n    border: 3px black solid;\n    user-select: none;\n}\n.board-item {\n    aspect-ratio: 1/1;\n    width: 10%;\n    outline: 1px black solid;\n    cursor: pointer;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n.board-item:hover {\n    background-color: bisque;\n}\n.player-ship {\n    background-color: lightblue;\n}\n.player-occupied {\n    background-color: red;\n    cursor: not-allowed;\n}\n.player-placeable {\n    background-color: bisque;\n}\n.player-hit {\n    background-color: red;\n}\n.player-missed {\n    background-color: lime;\n}\n.ship-selection {\n    display: grid;\n    grid-auto-flow: column;\n    grid-auto-columns: 1fr;\n}\n","",{version:3,sources:["webpack://./src/style.css"],names:[],mappings:"AAAA;;;;;;;;IAQI,SAAS;IACT,UAAU;AACd;AACA;IACI,gBAAgB;AACpB;AACA;IACI,eAAe;AACnB;AACA,YAAY;AACZ;IACI,+BAA+B;AACnC;AACA;IACI,2BAA2B;IAC3B,eAAe;AACnB;AACA;IACI,sBAAsB;IACtB,YAAY;AAChB;AACA,WAAW;AACX;IACI,kBAAkB;AACtB;AACA;IACI,UAAU;IACV,gBAAgB;IAChB,YAAY;AAChB;AACA;IACI,kBAAkB;IAClB,sBAAsB;IACtB,YAAY;IACZ,eAAe;IACf,kBAAkB;IAClB,oBAAoB;AACxB;AACA;IACI,kBAAkB;AACtB;AACA;IACI,OAAO;IACP,sBAAsB;IACtB,aAAa;IACb,eAAe;IACf,uBAAuB;IACvB,iBAAiB;AACrB;AACA;IACI,iBAAiB;IACjB,UAAU;IACV,wBAAwB;IACxB,eAAe;IACf,aAAa;IACb,mBAAmB;IACnB,uBAAuB;AAC3B;AACA;IACI,wBAAwB;AAC5B;AACA;IACI,2BAA2B;AAC/B;AACA;IACI,qBAAqB;IACrB,mBAAmB;AACvB;AACA;IACI,wBAAwB;AAC5B;AACA;IACI,qBAAqB;AACzB;AACA;IACI,sBAAsB;AAC1B;AACA;IACI,aAAa;IACb,sBAAsB;IACtB,sBAAsB;AAC1B",sourcesContent:["html,\nbody,\ndiv,\np,\nbutton,\nh1,\nh2,\nh3 {\n    margin: 0;\n    padding: 0;\n}\nbutton {\n    appearance: none;\n}\n:root {\n    font-size: 14px;\n}\n/* Utility */\n.btn {\n    font-size: calc(1.1rem + 0.1vw);\n}\n.btn:hover {\n    background-color: lightblue;\n    cursor: pointer;\n}\n.btn.active {\n    background-color: blue;\n    color: white;\n}\n/* Layout */\n.page-container {\n    min-height: 100svh;\n}\n.game-section {\n    width: 65%;\n    max-width: 400px;\n    margin: auto;\n}\n.header-section {\n    padding-block: 1em;\n    background-color: blue;\n    color: white;\n    min-width: 100%;\n    text-align: center;\n    pointer-events: none;\n}\n.board-title {\n    text-align: center;\n}\n.board {\n    flex: 0;\n    background-color: pink;\n    display: flex;\n    flex-wrap: wrap;\n    border: 3px black solid;\n    user-select: none;\n}\n.board-item {\n    aspect-ratio: 1/1;\n    width: 10%;\n    outline: 1px black solid;\n    cursor: pointer;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n.board-item:hover {\n    background-color: bisque;\n}\n.player-ship {\n    background-color: lightblue;\n}\n.player-occupied {\n    background-color: red;\n    cursor: not-allowed;\n}\n.player-placeable {\n    background-color: bisque;\n}\n.player-hit {\n    background-color: red;\n}\n.player-missed {\n    background-color: lime;\n}\n.ship-selection {\n    display: grid;\n    grid-auto-flow: column;\n    grid-auto-columns: 1fr;\n}\n"],sourceRoot:""}]);const s=a},645:e=>{e.exports=function(e){var n=[];return n.toString=function(){return this.map((function(n){var t="",r=void 0!==n[5];return n[4]&&(t+="@supports (".concat(n[4],") {")),n[2]&&(t+="@media ".concat(n[2]," {")),r&&(t+="@layer".concat(n[5].length>0?" ".concat(n[5]):""," {")),t+=e(n),r&&(t+="}"),n[2]&&(t+="}"),n[4]&&(t+="}"),t})).join("")},n.i=function(e,t,r,o,i){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(r)for(var s=0;s<this.length;s++){var c=this[s][0];null!=c&&(a[c]=!0)}for(var l=0;l<e.length;l++){var d=[].concat(e[l]);r&&a[d[0]]||(void 0!==i&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=i),t&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=t):d[2]=t),o&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=o):d[4]="".concat(o)),n.push(d))}},n}},537:e=>{e.exports=function(e){var n=e[1],t=e[3];if(!t)return n;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(t)))),o="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),i="/*# ".concat(o," */");return[n].concat([i]).join("\n")}return[n].join("\n")}},379:e=>{var n=[];function t(e){for(var t=-1,r=0;r<n.length;r++)if(n[r].identifier===e){t=r;break}return t}function r(e,r){for(var i={},a=[],s=0;s<e.length;s++){var c=e[s],l=r.base?c[0]+r.base:c[0],d=i[l]||0,u="".concat(l," ").concat(d);i[l]=d+1;var p=t(u),A={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==p)n[p].references++,n[p].updater(A);else{var h=o(A,r);r.byIndex=s,n.splice(s,0,{identifier:u,updater:h,references:1})}a.push(u)}return a}function o(e,n){var t=n.domAPI(n);return t.update(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap&&n.supports===e.supports&&n.layer===e.layer)return;t.update(e=n)}else t.remove()}}e.exports=function(e,o){var i=r(e=e||[],o=o||{});return function(e){e=e||[];for(var a=0;a<i.length;a++){var s=t(i[a]);n[s].references--}for(var c=r(e,o),l=0;l<i.length;l++){var d=t(i[l]);0===n[d].references&&(n[d].updater(),n.splice(d,1))}i=c}}},569:e=>{var n={};e.exports=function(e,t){var r=function(e){if(void 0===n[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}n[e]=t}return n[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(t)}},216:e=>{e.exports=function(e){var n=document.createElement("style");return e.setAttributes(n,e.attributes),e.insert(n,e.options),n}},565:(e,n,t)=>{e.exports=function(e){var n=t.nc;n&&e.setAttribute("nonce",n)}},795:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var n=e.insertStyleElement(e);return{update:function(t){!function(e,n,t){var r="";t.supports&&(r+="@supports (".concat(t.supports,") {")),t.media&&(r+="@media ".concat(t.media," {"));var o=void 0!==t.layer;o&&(r+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),r+=t.css,o&&(r+="}"),t.media&&(r+="}"),t.supports&&(r+="}");var i=t.sourceMap;i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),n.styleTagTransform(r,e,n.options)}(n,e,t)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)}}}},589:e=>{e.exports=function(e,n){if(n.styleSheet)n.styleSheet.cssText=e;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(e))}}}},n={};function t(r){var o=n[r];if(void 0!==o)return o.exports;var i=n[r]={id:r,exports:{}};return e[r](i,i.exports,t),i.exports}t.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return t.d(n,{a:n}),n},t.d=(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},t.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),t.nc=void 0,(()=>{var e=t(379),n=t.n(e),r=t(795),o=t.n(r),i=t(569),a=t.n(i),s=t(565),c=t.n(s),l=t(216),d=t.n(l),u=t(589),p=t.n(u),A=t(426),h={};h.styleTagTransform=p(),h.setAttributes=c(),h.insert=a().bind(null,"head"),h.domAPI=o(),h.insertStyleElement=d(),n()(A.Z,h),A.Z&&A.Z.locals&&A.Z.locals;const f=(e,n)=>{if("number"!=typeof e||"number"!=typeof n||isNaN(e)||isNaN(n))throw new TypeError("Number arguments are expected");if(e<0||e>9||n<0||n>9)throw new RangeError("x and y coordinates are required to be between 0-9");const t=e,r=n;return{getX:()=>t,getY:()=>r,getType:()=>"Point",json:()=>`{"x": ${t}, "y": ${r}}`}},g=(e,n,t)=>{document.querySelector(".page-container");const r=document.createElement("div");r.classList="board-container";const o=document.createElement("h3");o.innerText=n,o.classList="board-title";const i=document.createElement("div");i.classList="board";for(let n=9;n>=0;n--)for(let r=0;r<10;r++){const o=document.createElement("div");if(o.setAttribute("x",r),o.setAttribute("y",n),o.classList="board-item",t){let t;o.addEventListener("mouseover",(()=>{const o=e.getPlayer().getShip(e.getSize(),f(r,n),e.getDirection());for(let e of o.coordinates){const n=i.querySelector(`[x="${e.getX()}"][y="${e.getY()}"]`);t=o.isPlaceable?"player-placeable":"player-occupied",n.classList.add(t)}})),o.addEventListener("mouseout",(()=>{i.querySelectorAll(".board-item").forEach((e=>e.classList.remove(t)))})),o.addEventListener("click",(function(){e.addShip(f(r,n))})),e.getPlayer().getOccupied().find((e=>e.getX()===r&&e.getY()===n))&&o.classList.add("player-ship")}else o.addEventListener("click",(function(){e.getPlayerBoard().shoot(e.getEnemyPlayer(),f(r,n))?this.classList.add("player-hit"):this.classList.add("player-missed"),this.innerText="X"}),{once:!0});i.appendChild(o)}return r.append(o,i),r},b=e=>{document.querySelector(".page-container");const n=document.createElement("div");n.classList="ship-selection";const t=document.createElement("button"),r=document.createElement("button"),o=document.createElement("button"),i=document.createElement("button"),a=document.createElement("button");t.id="directionBtn",r.id="smBtn",o.id="mdBtn",i.id="lgBtn",a.id="xlBtn",t.innerText="ðŸ§­",r.innerText="Small",o.innerText="Medium",i.innerText="Large",a.innerText="XL";const s=function(){let e=["up","right","down","left"],n=0;return{get:()=>e[n],next:()=>{n++,n===e.length&&(n=0)}}}();let c;return e.setDirection(s.get()),t.addEventListener("click",(function(){s.next(),e.setDirection(s.get())})),r.onclick=o.onclick=i.onclick=a.onclick=function(){switch(document.querySelectorAll(`.btn:not([${this.id}])`).forEach((e=>e.classList.remove("active"))),this.classList.add("active"),this.id){case"smBtn":c=2;break;case"mdBtn":c=3;break;case"lgBtn":c=4;break;case"xlBtn":c=5;break;default:throw TypeError("Uknown ship type was clicked")}e.setSize(c)},n.append(r,o,i,a,t),Array.from(n.children).forEach((e=>e.classList="btn")),r.click(),n},m=(()=>{let e={},n=0;return{subscribe:(t,r)=>(e[t]=[],n++,e[t].push({token:n,func:r}),n),unsubscribe:(n,t)=>{if(!n)throw TypeError("An event is expected");if(!t)throw TypeError("A token is expected");if(e[n])throw TypeError("No matching event found");const r=e[n].filter((e=>!(e.token===t)));if(r.length===e[n].length)throw TypeError(`No token matching ${t} was found`);e[n]=r},publish:n=>{if(void 0===e[n])throw TypeError(`"${n}" event has no subscribers yet.`);e[n].forEach((e=>e.func()))}}})();function y(e){if(!e)throw new TypeError("A name is expected");let n=e,t={xl:1,lg:1,md:2,sm:1},r=[],o={_data:[],add:function(e){if(e.length>0&&this.isOccupied(e))throw RangeError("Some of the ships points are already occupied");this._data=[...this._data,...e]},get:function(){return this._data},isOccupied:function(e){for(let n of e){const e=this._data.some((e=>e.json()===n.json()));if(e)return e}}};return{getType:()=>"Player",getName:()=>n,getShipsLeft:()=>t,getShipsOwned:()=>r,getOccupied:()=>o.get(),getShip:(e,n,t)=>{let r,i=[];if(!e||"number"!=typeof e||isNaN(e))throw new TypeError("A size of type number is expected");if(!n||"Point"!==n.getType())throw new TypeError("A Point object is expected");switch(t){case"up":for(let t=0;t<e&&!(n.getY()+t>9);t++){const e=f(n.getX(),n.getY()+t);i.push(e)}break;case"down":for(let t=0;t<e&&!(n.getY()-t<0);t++){const e=f(n.getX(),n.getY()-t);i.push(e)}break;case"right":for(let t=0;t<e&&!(n.getX()+t>9);t++){const e=f(n.getX()+t,n.getY());i.push(e)}break;case"left":for(let t=0;t<e&&!(n.getX()-t<0);t++){const e=f(n.getX()-t,n.getY());i.push(e)}break;default:throw TypeError(`Direction must be up, down, right or left. ${t} passed`)}r=!o.isOccupied(i)&&i.length===e;const a=Object.assign({},function(e){if(!e)throw new RangeError("Ship.js: Missing ship size");if("number"!=typeof e)throw new TypeError(`Ship.js: size should be of type number. ${typeof e} passed`);if(e>5)throw new RangeError(`Shipt.js: The size can be 2-4, ${e} is too big`);if(e<2)throw new RangeError(`Shipt.js: The size can be 2-4, ${e} is too small`);const n=e;let t=0,r=!1;return{getType:()=>"Ship",getSize:()=>n,getHits:()=>t,getIsSunk:()=>r,hit:function(){t++,t===n&&(r=!0)}}}(e),{coordinates:i,isPlaceable:r});return a},addShip:function(e,n,i){const a=this.getShip(e,n,i);if(!a.isPlaceable)throw new RangeError("Ship is exceeding the board or colliding with another ship, please start, direction and size");if(!a.isPlaceable)return;let s;switch(e){case 2:s="sm";break;case 3:s="md";break;case 4:s="lg";break;case 5:s="xl";break;default:throw new RangeError(`Ship size must be between 2-5, ${e} passed`)}if(!t[s])throw new RangeError(`Trying to create many ships of type ${s}.`);o.add(a.coordinates),t[s]--,r.push(a)}}}const B=(()=>{const e=function(){let e=[];return{getType:()=>"Board",getShots:()=>e,shoot:(n,t)=>{if(!n||"Player"!==n.getType())throw new TypeError(`A Player object is expected, ${n} passed`);if(!t||"Point"!==t.getType())throw new TypeError("A Point object is required");e.push(t);for(let e of n.getShipsOwned())for(let n=0;n<e.getSize();n++)if(e.coordinates[n].json()===t.json())return e.hit(),!0;return!1}}}();let n,t,r,o="up";return{init:(e,r)=>{n=e,t=r,r.addShip(3,f(1,1),"up"),r.addShip(3,f(5,5),"right"),r.addShip(4,f(0,9),"down"),r.addShip(2,f(5,8),"down")},getPlayerBoard:()=>e,getPlayer:()=>n,getEnemyPlayer:()=>t,setSize:e=>{if(!e)throw TypeError("A size is expected");r=e},getSize:()=>r,setDirection:e=>{if(!e)throw TypeError("A direction is expected");o=e},getDirection:()=>o,addShip:function(e){if(!e)throw TypeError("A Point is expected");n.addShip(r,e,o),m.publish("shipsChanged")}}})(),C=y("Joe"),w=y("AI");B.init(C,w),function(e){document.querySelector(".page-container").append((()=>{const e=document.createElement("div");return e.classList="header-section",e.innerHTML="<h1>Haswell's Battleship</h1>",e})(),(e=>{const n=document.createElement("div");n.classList="game-section";const t=g(e,"Enemy Sea");let r=g(e,"My Sea",e.getPlayer().getShipsOwned());return n.append(t,r,b(e)),m.subscribe("shipsChanged",(()=>{const t=g(e,"My Sea",e.getPlayer().getShipsOwned());n.replaceChild(t,r),r=t})),n})(e))}(B)})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RURoQixDQUFnQnpHLElBQ1osTUFBTTJHLEVBQWN4SyxTQUFTVyxjQUFjLE9BQzNDNkosRUFBWXZHLFVBQVksZUFDeEIsTUFBTXdHLEVBQWFDLEVBQVU3RyxFQUFNLGFBQ25DLElBQUk4RyxFQUFjRCxFQUNkN0csRUFDQSxTQUNBQSxFQUFLWSxZQUFZOEQsaUJBaUJyQixPQWRBaUMsRUFBWTVFLE9BQU82RSxFQUFZRSxFQUFhQyxFQUFjL0csSUFZMURxRyxFQUFPakQsVUFBVSxnQkFWRyxLQUNoQixNQUFNNEQsRUFBV0gsRUFDYjdHLEVBQ0EsU0FDQUEsRUFBS1ksWUFBWThELGlCQUVyQmlDLEVBQVlNLGFBQWFELEVBQVVGLEdBQ25DQSxFQUFjRSxDQUFRLElBS25CTCxDQUNWLEVGeEJ5QixDQUFXM0csR0FDckMsQ0hJQWtILENBQUtsSCxFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb2Rpbi1iYXR0bGVzaGlwLy4vc3JjL3N0eWxlLmNzcyIsIndlYnBhY2s6Ly9vZGluLWJhdHRsZXNoaXAvLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzIiwid2VicGFjazovL29kaW4tYmF0dGxlc2hpcC8uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9zb3VyY2VNYXBzLmpzIiwid2VicGFjazovL29kaW4tYmF0dGxlc2hpcC8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qcyIsIndlYnBhY2s6Ly9vZGluLWJhdHRsZXNoaXAvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRCeVNlbGVjdG9yLmpzIiwid2VicGFjazovL29kaW4tYmF0dGxlc2hpcC8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydFN0eWxlRWxlbWVudC5qcyIsIndlYnBhY2s6Ly9vZGluLWJhdHRsZXNoaXAvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXMuanMiLCJ3ZWJwYWNrOi8vb2Rpbi1iYXR0bGVzaGlwLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVEb21BUEkuanMiLCJ3ZWJwYWNrOi8vb2Rpbi1iYXR0bGVzaGlwLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVUYWdUcmFuc2Zvcm0uanMiLCJ3ZWJwYWNrOi8vb2Rpbi1iYXR0bGVzaGlwL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL29kaW4tYmF0dGxlc2hpcC93ZWJwYWNrL3J1bnRpbWUvY29tcGF0IGdldCBkZWZhdWx0IGV4cG9ydCIsIndlYnBhY2s6Ly9vZGluLWJhdHRsZXNoaXAvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL29kaW4tYmF0dGxlc2hpcC93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL29kaW4tYmF0dGxlc2hpcC93ZWJwYWNrL3J1bnRpbWUvbm9uY2UiLCJ3ZWJwYWNrOi8vb2Rpbi1iYXR0bGVzaGlwLy4vc3JjL3N0eWxlLmNzcz83MTYzIiwid2VicGFjazovL29kaW4tYmF0dGxlc2hpcC8uL3NyYy9sb2dpYy9Qb2ludC5qcyIsIndlYnBhY2s6Ly9vZGluLWJhdHRsZXNoaXAvLi9zcmMvY29tcG9uZW50cy9nYW1lYm9hcmQuanMiLCJ3ZWJwYWNrOi8vb2Rpbi1iYXR0bGVzaGlwLy4vc3JjL2NvbXBvbmVudHMvc2hpcFNlbGVjdGlvbi5qcyIsIndlYnBhY2s6Ly9vZGluLWJhdHRsZXNoaXAvLi9zcmMvbG9naWMvUHViU3ViLmpzIiwid2VicGFjazovL29kaW4tYmF0dGxlc2hpcC8uL3NyYy9sb2dpYy9QbGF5ZXIuanMiLCJ3ZWJwYWNrOi8vb2Rpbi1iYXR0bGVzaGlwLy4vc3JjL2xvZ2ljL1NoaXAuanMiLCJ3ZWJwYWNrOi8vb2Rpbi1iYXR0bGVzaGlwLy4vc3JjL2luZGV4LmpzIiwid2VicGFjazovL29kaW4tYmF0dGxlc2hpcC8uL3NyYy9sb2dpYy9HYW1lLmpzIiwid2VicGFjazovL29kaW4tYmF0dGxlc2hpcC8uL3NyYy9sb2dpYy9Cb2FyZC5qcyIsIndlYnBhY2s6Ly9vZGluLWJhdHRsZXNoaXAvLi9zcmMvcGFnZXMvbWFpbi5qcyIsIndlYnBhY2s6Ly9vZGluLWJhdHRsZXNoaXAvLi9zcmMvY29tcG9uZW50cy9zZWN0aW9ucy9oZWFkZXIuanMiLCJ3ZWJwYWNrOi8vb2Rpbi1iYXR0bGVzaGlwLy4vc3JjL2NvbXBvbmVudHMvc2VjdGlvbnMvZ2FtZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBJbXBvcnRzXG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyBmcm9tIFwiLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL3NvdXJjZU1hcHMuanNcIjtcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18gZnJvbSBcIi4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIjtcbnZhciBfX19DU1NfTE9BREVSX0VYUE9SVF9fXyA9IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyhfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fKTtcbi8vIE1vZHVsZVxuX19fQ1NTX0xPQURFUl9FWFBPUlRfX18ucHVzaChbbW9kdWxlLmlkLCBgaHRtbCxcbmJvZHksXG5kaXYsXG5wLFxuYnV0dG9uLFxuaDEsXG5oMixcbmgzIHtcbiAgICBtYXJnaW46IDA7XG4gICAgcGFkZGluZzogMDtcbn1cbmJ1dHRvbiB7XG4gICAgYXBwZWFyYW5jZTogbm9uZTtcbn1cbjpyb290IHtcbiAgICBmb250LXNpemU6IDE0cHg7XG59XG4vKiBVdGlsaXR5ICovXG4uYnRuIHtcbiAgICBmb250LXNpemU6IGNhbGMoMS4xcmVtICsgMC4xdncpO1xufVxuLmJ0bjpob3ZlciB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogbGlnaHRibHVlO1xuICAgIGN1cnNvcjogcG9pbnRlcjtcbn1cbi5idG4uYWN0aXZlIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBibHVlO1xuICAgIGNvbG9yOiB3aGl0ZTtcbn1cbi8qIExheW91dCAqL1xuLnBhZ2UtY29udGFpbmVyIHtcbiAgICBtaW4taGVpZ2h0OiAxMDBzdmg7XG59XG4uZ2FtZS1zZWN0aW9uIHtcbiAgICB3aWR0aDogNjUlO1xuICAgIG1heC13aWR0aDogNDAwcHg7XG4gICAgbWFyZ2luOiBhdXRvO1xufVxuLmhlYWRlci1zZWN0aW9uIHtcbiAgICBwYWRkaW5nLWJsb2NrOiAxZW07XG4gICAgYmFja2dyb3VuZC1jb2xvcjogYmx1ZTtcbiAgICBjb2xvcjogd2hpdGU7XG4gICAgbWluLXdpZHRoOiAxMDAlO1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICBwb2ludGVyLWV2ZW50czogbm9uZTtcbn1cbi5ib2FyZC10aXRsZSB7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xufVxuLmJvYXJkIHtcbiAgICBmbGV4OiAwO1xuICAgIGJhY2tncm91bmQtY29sb3I6IHBpbms7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4LXdyYXA6IHdyYXA7XG4gICAgYm9yZGVyOiAzcHggYmxhY2sgc29saWQ7XG4gICAgdXNlci1zZWxlY3Q6IG5vbmU7XG59XG4uYm9hcmQtaXRlbSB7XG4gICAgYXNwZWN0LXJhdGlvOiAxLzE7XG4gICAgd2lkdGg6IDEwJTtcbiAgICBvdXRsaW5lOiAxcHggYmxhY2sgc29saWQ7XG4gICAgY3Vyc29yOiBwb2ludGVyO1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbn1cbi5ib2FyZC1pdGVtOmhvdmVyIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBiaXNxdWU7XG59XG4ucGxheWVyLXNoaXAge1xuICAgIGJhY2tncm91bmQtY29sb3I6IGxpZ2h0Ymx1ZTtcbn1cbi5wbGF5ZXItb2NjdXBpZWQge1xuICAgIGJhY2tncm91bmQtY29sb3I6IHJlZDtcbiAgICBjdXJzb3I6IG5vdC1hbGxvd2VkO1xufVxuLnBsYXllci1wbGFjZWFibGUge1xuICAgIGJhY2tncm91bmQtY29sb3I6IGJpc3F1ZTtcbn1cbi5wbGF5ZXItaGl0IHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZWQ7XG59XG4ucGxheWVyLW1pc3NlZCB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogbGltZTtcbn1cbi5zaGlwLXNlbGVjdGlvbiB7XG4gICAgZGlzcGxheTogZ3JpZDtcbiAgICBncmlkLWF1dG8tZmxvdzogY29sdW1uO1xuICAgIGdyaWQtYXV0by1jb2x1bW5zOiAxZnI7XG59XG5gLCBcIlwiLHtcInZlcnNpb25cIjozLFwic291cmNlc1wiOltcIndlYnBhY2s6Ly8uL3NyYy9zdHlsZS5jc3NcIl0sXCJuYW1lc1wiOltdLFwibWFwcGluZ3NcIjpcIkFBQUE7Ozs7Ozs7O0lBUUksU0FBUztJQUNULFVBQVU7QUFDZDtBQUNBO0lBQ0ksZ0JBQWdCO0FBQ3BCO0FBQ0E7SUFDSSxlQUFlO0FBQ25CO0FBQ0EsWUFBWTtBQUNaO0lBQ0ksK0JBQStCO0FBQ25DO0FBQ0E7SUFDSSwyQkFBMkI7SUFDM0IsZUFBZTtBQUNuQjtBQUNBO0lBQ0ksc0JBQXNCO0lBQ3RCLFlBQVk7QUFDaEI7QUFDQSxXQUFXO0FBQ1g7SUFDSSxrQkFBa0I7QUFDdEI7QUFDQTtJQUNJLFVBQVU7SUFDVixnQkFBZ0I7SUFDaEIsWUFBWTtBQUNoQjtBQUNBO0lBQ0ksa0JBQWtCO0lBQ2xCLHNCQUFzQjtJQUN0QixZQUFZO0lBQ1osZUFBZTtJQUNmLGtCQUFrQjtJQUNsQixvQkFBb0I7QUFDeEI7QUFDQTtJQUNJLGtCQUFrQjtBQUN0QjtBQUNBO0lBQ0ksT0FBTztJQUNQLHNCQUFzQjtJQUN0QixhQUFhO0lBQ2IsZUFBZTtJQUNmLHVCQUF1QjtJQUN2QixpQkFBaUI7QUFDckI7QUFDQTtJQUNJLGlCQUFpQjtJQUNqQixVQUFVO0lBQ1Ysd0JBQXdCO0lBQ3hCLGVBQWU7SUFDZixhQUFhO0lBQ2IsbUJBQW1CO0lBQ25CLHVCQUF1QjtBQUMzQjtBQUNBO0lBQ0ksd0JBQXdCO0FBQzVCO0FBQ0E7SUFDSSwyQkFBMkI7QUFDL0I7QUFDQTtJQUNJLHFCQUFxQjtJQUNyQixtQkFBbUI7QUFDdkI7QUFDQTtJQUNJLHdCQUF3QjtBQUM1QjtBQUNBO0lBQ0kscUJBQXFCO0FBQ3pCO0FBQ0E7SUFDSSxzQkFBc0I7QUFDMUI7QUFDQTtJQUNJLGFBQWE7SUFDYixzQkFBc0I7SUFDdEIsc0JBQXNCO0FBQzFCXCIsXCJzb3VyY2VzQ29udGVudFwiOltcImh0bWwsXFxuYm9keSxcXG5kaXYsXFxucCxcXG5idXR0b24sXFxuaDEsXFxuaDIsXFxuaDMge1xcbiAgICBtYXJnaW46IDA7XFxuICAgIHBhZGRpbmc6IDA7XFxufVxcbmJ1dHRvbiB7XFxuICAgIGFwcGVhcmFuY2U6IG5vbmU7XFxufVxcbjpyb290IHtcXG4gICAgZm9udC1zaXplOiAxNHB4O1xcbn1cXG4vKiBVdGlsaXR5ICovXFxuLmJ0biB7XFxuICAgIGZvbnQtc2l6ZTogY2FsYygxLjFyZW0gKyAwLjF2dyk7XFxufVxcbi5idG46aG92ZXIge1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBsaWdodGJsdWU7XFxuICAgIGN1cnNvcjogcG9pbnRlcjtcXG59XFxuLmJ0bi5hY3RpdmUge1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBibHVlO1xcbiAgICBjb2xvcjogd2hpdGU7XFxufVxcbi8qIExheW91dCAqL1xcbi5wYWdlLWNvbnRhaW5lciB7XFxuICAgIG1pbi1oZWlnaHQ6IDEwMHN2aDtcXG59XFxuLmdhbWUtc2VjdGlvbiB7XFxuICAgIHdpZHRoOiA2NSU7XFxuICAgIG1heC13aWR0aDogNDAwcHg7XFxuICAgIG1hcmdpbjogYXV0bztcXG59XFxuLmhlYWRlci1zZWN0aW9uIHtcXG4gICAgcGFkZGluZy1ibG9jazogMWVtO1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBibHVlO1xcbiAgICBjb2xvcjogd2hpdGU7XFxuICAgIG1pbi13aWR0aDogMTAwJTtcXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xcbiAgICBwb2ludGVyLWV2ZW50czogbm9uZTtcXG59XFxuLmJvYXJkLXRpdGxlIHtcXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xcbn1cXG4uYm9hcmQge1xcbiAgICBmbGV4OiAwO1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBwaW5rO1xcbiAgICBkaXNwbGF5OiBmbGV4O1xcbiAgICBmbGV4LXdyYXA6IHdyYXA7XFxuICAgIGJvcmRlcjogM3B4IGJsYWNrIHNvbGlkO1xcbiAgICB1c2VyLXNlbGVjdDogbm9uZTtcXG59XFxuLmJvYXJkLWl0ZW0ge1xcbiAgICBhc3BlY3QtcmF0aW86IDEvMTtcXG4gICAgd2lkdGg6IDEwJTtcXG4gICAgb3V0bGluZTogMXB4IGJsYWNrIHNvbGlkO1xcbiAgICBjdXJzb3I6IHBvaW50ZXI7XFxuICAgIGRpc3BsYXk6IGZsZXg7XFxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xcbn1cXG4uYm9hcmQtaXRlbTpob3ZlciB7XFxuICAgIGJhY2tncm91bmQtY29sb3I6IGJpc3F1ZTtcXG59XFxuLnBsYXllci1zaGlwIHtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogbGlnaHRibHVlO1xcbn1cXG4ucGxheWVyLW9jY3VwaWVkIHtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmVkO1xcbiAgICBjdXJzb3I6IG5vdC1hbGxvd2VkO1xcbn1cXG4ucGxheWVyLXBsYWNlYWJsZSB7XFxuICAgIGJhY2tncm91bmQtY29sb3I6IGJpc3F1ZTtcXG59XFxuLnBsYXllci1oaXQge1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZWQ7XFxufVxcbi5wbGF5ZXItbWlzc2VkIHtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogbGltZTtcXG59XFxuLnNoaXAtc2VsZWN0aW9uIHtcXG4gICAgZGlzcGxheTogZ3JpZDtcXG4gICAgZ3JpZC1hdXRvLWZsb3c6IGNvbHVtbjtcXG4gICAgZ3JpZC1hdXRvLWNvbHVtbnM6IDFmcjtcXG59XFxuXCJdLFwic291cmNlUm9vdFwiOlwiXCJ9XSk7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBfX19DU1NfTE9BREVSX0VYUE9SVF9fXztcbiIsIlwidXNlIHN0cmljdFwiO1xuXG4vKlxuICBNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuICBBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXG4qL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoY3NzV2l0aE1hcHBpbmdUb1N0cmluZykge1xuICB2YXIgbGlzdCA9IFtdO1xuXG4gIC8vIHJldHVybiB0aGUgbGlzdCBvZiBtb2R1bGVzIGFzIGNzcyBzdHJpbmdcbiAgbGlzdC50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiB0aGlzLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgdmFyIGNvbnRlbnQgPSBcIlwiO1xuICAgICAgdmFyIG5lZWRMYXllciA9IHR5cGVvZiBpdGVtWzVdICE9PSBcInVuZGVmaW5lZFwiO1xuICAgICAgaWYgKGl0ZW1bNF0pIHtcbiAgICAgICAgY29udGVudCArPSBcIkBzdXBwb3J0cyAoXCIuY29uY2F0KGl0ZW1bNF0sIFwiKSB7XCIpO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1bMl0pIHtcbiAgICAgICAgY29udGVudCArPSBcIkBtZWRpYSBcIi5jb25jYXQoaXRlbVsyXSwgXCIge1wiKTtcbiAgICAgIH1cbiAgICAgIGlmIChuZWVkTGF5ZXIpIHtcbiAgICAgICAgY29udGVudCArPSBcIkBsYXllclwiLmNvbmNhdChpdGVtWzVdLmxlbmd0aCA+IDAgPyBcIiBcIi5jb25jYXQoaXRlbVs1XSkgOiBcIlwiLCBcIiB7XCIpO1xuICAgICAgfVxuICAgICAgY29udGVudCArPSBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0pO1xuICAgICAgaWYgKG5lZWRMYXllcikge1xuICAgICAgICBjb250ZW50ICs9IFwifVwiO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1bMl0pIHtcbiAgICAgICAgY29udGVudCArPSBcIn1cIjtcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtWzRdKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJ9XCI7XG4gICAgICB9XG4gICAgICByZXR1cm4gY29udGVudDtcbiAgICB9KS5qb2luKFwiXCIpO1xuICB9O1xuXG4gIC8vIGltcG9ydCBhIGxpc3Qgb2YgbW9kdWxlcyBpbnRvIHRoZSBsaXN0XG4gIGxpc3QuaSA9IGZ1bmN0aW9uIGkobW9kdWxlcywgbWVkaWEsIGRlZHVwZSwgc3VwcG9ydHMsIGxheWVyKSB7XG4gICAgaWYgKHR5cGVvZiBtb2R1bGVzID09PSBcInN0cmluZ1wiKSB7XG4gICAgICBtb2R1bGVzID0gW1tudWxsLCBtb2R1bGVzLCB1bmRlZmluZWRdXTtcbiAgICB9XG4gICAgdmFyIGFscmVhZHlJbXBvcnRlZE1vZHVsZXMgPSB7fTtcbiAgICBpZiAoZGVkdXBlKSB7XG4gICAgICBmb3IgKHZhciBrID0gMDsgayA8IHRoaXMubGVuZ3RoOyBrKyspIHtcbiAgICAgICAgdmFyIGlkID0gdGhpc1trXVswXTtcbiAgICAgICAgaWYgKGlkICE9IG51bGwpIHtcbiAgICAgICAgICBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2lkXSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgZm9yICh2YXIgX2sgPSAwOyBfayA8IG1vZHVsZXMubGVuZ3RoOyBfaysrKSB7XG4gICAgICB2YXIgaXRlbSA9IFtdLmNvbmNhdChtb2R1bGVzW19rXSk7XG4gICAgICBpZiAoZGVkdXBlICYmIGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaXRlbVswXV0pIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIGxheWVyICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgaXRlbVs1XSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgIGl0ZW1bNV0gPSBsYXllcjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtWzFdID0gXCJAbGF5ZXJcIi5jb25jYXQoaXRlbVs1XS5sZW5ndGggPiAwID8gXCIgXCIuY29uY2F0KGl0ZW1bNV0pIDogXCJcIiwgXCIge1wiKS5jb25jYXQoaXRlbVsxXSwgXCJ9XCIpO1xuICAgICAgICAgIGl0ZW1bNV0gPSBsYXllcjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKG1lZGlhKSB7XG4gICAgICAgIGlmICghaXRlbVsyXSkge1xuICAgICAgICAgIGl0ZW1bMl0gPSBtZWRpYTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtWzFdID0gXCJAbWVkaWEgXCIuY29uY2F0KGl0ZW1bMl0sIFwiIHtcIikuY29uY2F0KGl0ZW1bMV0sIFwifVwiKTtcbiAgICAgICAgICBpdGVtWzJdID0gbWVkaWE7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChzdXBwb3J0cykge1xuICAgICAgICBpZiAoIWl0ZW1bNF0pIHtcbiAgICAgICAgICBpdGVtWzRdID0gXCJcIi5jb25jYXQoc3VwcG9ydHMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMV0gPSBcIkBzdXBwb3J0cyAoXCIuY29uY2F0KGl0ZW1bNF0sIFwiKSB7XCIpLmNvbmNhdChpdGVtWzFdLCBcIn1cIik7XG4gICAgICAgICAgaXRlbVs0XSA9IHN1cHBvcnRzO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBsaXN0LnB1c2goaXRlbSk7XG4gICAgfVxuICB9O1xuICByZXR1cm4gbGlzdDtcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0ZW0pIHtcbiAgdmFyIGNvbnRlbnQgPSBpdGVtWzFdO1xuICB2YXIgY3NzTWFwcGluZyA9IGl0ZW1bM107XG4gIGlmICghY3NzTWFwcGluZykge1xuICAgIHJldHVybiBjb250ZW50O1xuICB9XG4gIGlmICh0eXBlb2YgYnRvYSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgdmFyIGJhc2U2NCA9IGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KGNzc01hcHBpbmcpKSkpO1xuICAgIHZhciBkYXRhID0gXCJzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxcIi5jb25jYXQoYmFzZTY0KTtcbiAgICB2YXIgc291cmNlTWFwcGluZyA9IFwiLyojIFwiLmNvbmNhdChkYXRhLCBcIiAqL1wiKTtcbiAgICByZXR1cm4gW2NvbnRlbnRdLmNvbmNhdChbc291cmNlTWFwcGluZ10pLmpvaW4oXCJcXG5cIik7XG4gIH1cbiAgcmV0dXJuIFtjb250ZW50XS5qb2luKFwiXFxuXCIpO1xufTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIHN0eWxlc0luRE9NID0gW107XG5mdW5jdGlvbiBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKSB7XG4gIHZhciByZXN1bHQgPSAtMTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHlsZXNJbkRPTS5sZW5ndGg7IGkrKykge1xuICAgIGlmIChzdHlsZXNJbkRPTVtpXS5pZGVudGlmaWVyID09PSBpZGVudGlmaWVyKSB7XG4gICAgICByZXN1bHQgPSBpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucykge1xuICB2YXIgaWRDb3VudE1hcCA9IHt9O1xuICB2YXIgaWRlbnRpZmllcnMgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGl0ZW0gPSBsaXN0W2ldO1xuICAgIHZhciBpZCA9IG9wdGlvbnMuYmFzZSA/IGl0ZW1bMF0gKyBvcHRpb25zLmJhc2UgOiBpdGVtWzBdO1xuICAgIHZhciBjb3VudCA9IGlkQ291bnRNYXBbaWRdIHx8IDA7XG4gICAgdmFyIGlkZW50aWZpZXIgPSBcIlwiLmNvbmNhdChpZCwgXCIgXCIpLmNvbmNhdChjb3VudCk7XG4gICAgaWRDb3VudE1hcFtpZF0gPSBjb3VudCArIDE7XG4gICAgdmFyIGluZGV4QnlJZGVudGlmaWVyID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcik7XG4gICAgdmFyIG9iaiA9IHtcbiAgICAgIGNzczogaXRlbVsxXSxcbiAgICAgIG1lZGlhOiBpdGVtWzJdLFxuICAgICAgc291cmNlTWFwOiBpdGVtWzNdLFxuICAgICAgc3VwcG9ydHM6IGl0ZW1bNF0sXG4gICAgICBsYXllcjogaXRlbVs1XVxuICAgIH07XG4gICAgaWYgKGluZGV4QnlJZGVudGlmaWVyICE9PSAtMSkge1xuICAgICAgc3R5bGVzSW5ET01baW5kZXhCeUlkZW50aWZpZXJdLnJlZmVyZW5jZXMrKztcbiAgICAgIHN0eWxlc0luRE9NW2luZGV4QnlJZGVudGlmaWVyXS51cGRhdGVyKG9iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciB1cGRhdGVyID0gYWRkRWxlbWVudFN0eWxlKG9iaiwgb3B0aW9ucyk7XG4gICAgICBvcHRpb25zLmJ5SW5kZXggPSBpO1xuICAgICAgc3R5bGVzSW5ET00uc3BsaWNlKGksIDAsIHtcbiAgICAgICAgaWRlbnRpZmllcjogaWRlbnRpZmllcixcbiAgICAgICAgdXBkYXRlcjogdXBkYXRlcixcbiAgICAgICAgcmVmZXJlbmNlczogMVxuICAgICAgfSk7XG4gICAgfVxuICAgIGlkZW50aWZpZXJzLnB1c2goaWRlbnRpZmllcik7XG4gIH1cbiAgcmV0dXJuIGlkZW50aWZpZXJzO1xufVxuZnVuY3Rpb24gYWRkRWxlbWVudFN0eWxlKG9iaiwgb3B0aW9ucykge1xuICB2YXIgYXBpID0gb3B0aW9ucy5kb21BUEkob3B0aW9ucyk7XG4gIGFwaS51cGRhdGUob2JqKTtcbiAgdmFyIHVwZGF0ZXIgPSBmdW5jdGlvbiB1cGRhdGVyKG5ld09iaikge1xuICAgIGlmIChuZXdPYmopIHtcbiAgICAgIGlmIChuZXdPYmouY3NzID09PSBvYmouY3NzICYmIG5ld09iai5tZWRpYSA9PT0gb2JqLm1lZGlhICYmIG5ld09iai5zb3VyY2VNYXAgPT09IG9iai5zb3VyY2VNYXAgJiYgbmV3T2JqLnN1cHBvcnRzID09PSBvYmouc3VwcG9ydHMgJiYgbmV3T2JqLmxheWVyID09PSBvYmoubGF5ZXIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYXBpLnVwZGF0ZShvYmogPSBuZXdPYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICBhcGkucmVtb3ZlKCk7XG4gICAgfVxuICB9O1xuICByZXR1cm4gdXBkYXRlcjtcbn1cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGxpc3QsIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIGxpc3QgPSBsaXN0IHx8IFtdO1xuICB2YXIgbGFzdElkZW50aWZpZXJzID0gbW9kdWxlc1RvRG9tKGxpc3QsIG9wdGlvbnMpO1xuICByZXR1cm4gZnVuY3Rpb24gdXBkYXRlKG5ld0xpc3QpIHtcbiAgICBuZXdMaXN0ID0gbmV3TGlzdCB8fCBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGlkZW50aWZpZXIgPSBsYXN0SWRlbnRpZmllcnNbaV07XG4gICAgICB2YXIgaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICAgIHN0eWxlc0luRE9NW2luZGV4XS5yZWZlcmVuY2VzLS07XG4gICAgfVxuICAgIHZhciBuZXdMYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obmV3TGlzdCwgb3B0aW9ucyk7XG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IF9pKyspIHtcbiAgICAgIHZhciBfaWRlbnRpZmllciA9IGxhc3RJZGVudGlmaWVyc1tfaV07XG4gICAgICB2YXIgX2luZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoX2lkZW50aWZpZXIpO1xuICAgICAgaWYgKHN0eWxlc0luRE9NW19pbmRleF0ucmVmZXJlbmNlcyA9PT0gMCkge1xuICAgICAgICBzdHlsZXNJbkRPTVtfaW5kZXhdLnVwZGF0ZXIoKTtcbiAgICAgICAgc3R5bGVzSW5ET00uc3BsaWNlKF9pbmRleCwgMSk7XG4gICAgICB9XG4gICAgfVxuICAgIGxhc3RJZGVudGlmaWVycyA9IG5ld0xhc3RJZGVudGlmaWVycztcbiAgfTtcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBtZW1vID0ge307XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gZ2V0VGFyZ2V0KHRhcmdldCkge1xuICBpZiAodHlwZW9mIG1lbW9bdGFyZ2V0XSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHZhciBzdHlsZVRhcmdldCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0KTtcblxuICAgIC8vIFNwZWNpYWwgY2FzZSB0byByZXR1cm4gaGVhZCBvZiBpZnJhbWUgaW5zdGVhZCBvZiBpZnJhbWUgaXRzZWxmXG4gICAgaWYgKHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCAmJiBzdHlsZVRhcmdldCBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gVGhpcyB3aWxsIHRocm93IGFuIGV4Y2VwdGlvbiBpZiBhY2Nlc3MgdG8gaWZyYW1lIGlzIGJsb2NrZWRcbiAgICAgICAgLy8gZHVlIHRvIGNyb3NzLW9yaWdpbiByZXN0cmljdGlvbnNcbiAgICAgICAgc3R5bGVUYXJnZXQgPSBzdHlsZVRhcmdldC5jb250ZW50RG9jdW1lbnQuaGVhZDtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgLy8gaXN0YW5idWwgaWdub3JlIG5leHRcbiAgICAgICAgc3R5bGVUYXJnZXQgPSBudWxsO1xuICAgICAgfVxuICAgIH1cbiAgICBtZW1vW3RhcmdldF0gPSBzdHlsZVRhcmdldDtcbiAgfVxuICByZXR1cm4gbWVtb1t0YXJnZXRdO1xufVxuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIGluc2VydEJ5U2VsZWN0b3IoaW5zZXJ0LCBzdHlsZSkge1xuICB2YXIgdGFyZ2V0ID0gZ2V0VGFyZ2V0KGluc2VydCk7XG4gIGlmICghdGFyZ2V0KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiQ291bGRuJ3QgZmluZCBhIHN0eWxlIHRhcmdldC4gVGhpcyBwcm9iYWJseSBtZWFucyB0aGF0IHRoZSB2YWx1ZSBmb3IgdGhlICdpbnNlcnQnIHBhcmFtZXRlciBpcyBpbnZhbGlkLlwiKTtcbiAgfVxuICB0YXJnZXQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xufVxubW9kdWxlLmV4cG9ydHMgPSBpbnNlcnRCeVNlbGVjdG9yOyIsIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKSB7XG4gIHZhciBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xuICBvcHRpb25zLnNldEF0dHJpYnV0ZXMoZWxlbWVudCwgb3B0aW9ucy5hdHRyaWJ1dGVzKTtcbiAgb3B0aW9ucy5pbnNlcnQoZWxlbWVudCwgb3B0aW9ucy5vcHRpb25zKTtcbiAgcmV0dXJuIGVsZW1lbnQ7XG59XG5tb2R1bGUuZXhwb3J0cyA9IGluc2VydFN0eWxlRWxlbWVudDsiLCJcInVzZSBzdHJpY3RcIjtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBzZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXMoc3R5bGVFbGVtZW50KSB7XG4gIHZhciBub25jZSA9IHR5cGVvZiBfX3dlYnBhY2tfbm9uY2VfXyAhPT0gXCJ1bmRlZmluZWRcIiA/IF9fd2VicGFja19ub25jZV9fIDogbnVsbDtcbiAgaWYgKG5vbmNlKSB7XG4gICAgc3R5bGVFbGVtZW50LnNldEF0dHJpYnV0ZShcIm5vbmNlXCIsIG5vbmNlKTtcbiAgfVxufVxubW9kdWxlLmV4cG9ydHMgPSBzZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXM7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gYXBwbHkoc3R5bGVFbGVtZW50LCBvcHRpb25zLCBvYmopIHtcbiAgdmFyIGNzcyA9IFwiXCI7XG4gIGlmIChvYmouc3VwcG9ydHMpIHtcbiAgICBjc3MgKz0gXCJAc3VwcG9ydHMgKFwiLmNvbmNhdChvYmouc3VwcG9ydHMsIFwiKSB7XCIpO1xuICB9XG4gIGlmIChvYmoubWVkaWEpIHtcbiAgICBjc3MgKz0gXCJAbWVkaWEgXCIuY29uY2F0KG9iai5tZWRpYSwgXCIge1wiKTtcbiAgfVxuICB2YXIgbmVlZExheWVyID0gdHlwZW9mIG9iai5sYXllciAhPT0gXCJ1bmRlZmluZWRcIjtcbiAgaWYgKG5lZWRMYXllcikge1xuICAgIGNzcyArPSBcIkBsYXllclwiLmNvbmNhdChvYmoubGF5ZXIubGVuZ3RoID4gMCA/IFwiIFwiLmNvbmNhdChvYmoubGF5ZXIpIDogXCJcIiwgXCIge1wiKTtcbiAgfVxuICBjc3MgKz0gb2JqLmNzcztcbiAgaWYgKG5lZWRMYXllcikge1xuICAgIGNzcyArPSBcIn1cIjtcbiAgfVxuICBpZiAob2JqLm1lZGlhKSB7XG4gICAgY3NzICs9IFwifVwiO1xuICB9XG4gIGlmIChvYmouc3VwcG9ydHMpIHtcbiAgICBjc3MgKz0gXCJ9XCI7XG4gIH1cbiAgdmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XG4gIGlmIChzb3VyY2VNYXAgJiYgdHlwZW9mIGJ0b2EgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICBjc3MgKz0gXCJcXG4vKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LFwiLmNvbmNhdChidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpLCBcIiAqL1wiKTtcbiAgfVxuXG4gIC8vIEZvciBvbGQgSUVcbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICAqL1xuICBvcHRpb25zLnN0eWxlVGFnVHJhbnNmb3JtKGNzcywgc3R5bGVFbGVtZW50LCBvcHRpb25zLm9wdGlvbnMpO1xufVxuZnVuY3Rpb24gcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlRWxlbWVudCkge1xuICAvLyBpc3RhbmJ1bCBpZ25vcmUgaWZcbiAgaWYgKHN0eWxlRWxlbWVudC5wYXJlbnROb2RlID09PSBudWxsKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHN0eWxlRWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlRWxlbWVudCk7XG59XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gZG9tQVBJKG9wdGlvbnMpIHtcbiAgaWYgKHR5cGVvZiBkb2N1bWVudCA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHJldHVybiB7XG4gICAgICB1cGRhdGU6IGZ1bmN0aW9uIHVwZGF0ZSgpIHt9LFxuICAgICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUoKSB7fVxuICAgIH07XG4gIH1cbiAgdmFyIHN0eWxlRWxlbWVudCA9IG9wdGlvbnMuaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpO1xuICByZXR1cm4ge1xuICAgIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlKG9iaikge1xuICAgICAgYXBwbHkoc3R5bGVFbGVtZW50LCBvcHRpb25zLCBvYmopO1xuICAgIH0sXG4gICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUoKSB7XG4gICAgICByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGVFbGVtZW50KTtcbiAgICB9XG4gIH07XG59XG5tb2R1bGUuZXhwb3J0cyA9IGRvbUFQSTsiLCJcInVzZSBzdHJpY3RcIjtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBzdHlsZVRhZ1RyYW5zZm9ybShjc3MsIHN0eWxlRWxlbWVudCkge1xuICBpZiAoc3R5bGVFbGVtZW50LnN0eWxlU2hlZXQpIHtcbiAgICBzdHlsZUVsZW1lbnQuc3R5bGVTaGVldC5jc3NUZXh0ID0gY3NzO1xuICB9IGVsc2Uge1xuICAgIHdoaWxlIChzdHlsZUVsZW1lbnQuZmlyc3RDaGlsZCkge1xuICAgICAgc3R5bGVFbGVtZW50LnJlbW92ZUNoaWxkKHN0eWxlRWxlbWVudC5maXJzdENoaWxkKTtcbiAgICB9XG4gICAgc3R5bGVFbGVtZW50LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpO1xuICB9XG59XG5tb2R1bGUuZXhwb3J0cyA9IHN0eWxlVGFnVHJhbnNmb3JtOyIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0aWQ6IG1vZHVsZUlkLFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuX193ZWJwYWNrX3JlcXVpcmVfXy5uID0gKG1vZHVsZSkgPT4ge1xuXHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cblx0XHQoKSA9PiAobW9kdWxlWydkZWZhdWx0J10pIDpcblx0XHQoKSA9PiAobW9kdWxlKTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgeyBhOiBnZXR0ZXIgfSk7XG5cdHJldHVybiBnZXR0ZXI7XG59OyIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm5jID0gdW5kZWZpbmVkOyIsIlxuICAgICAgaW1wb3J0IEFQSSBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qc1wiO1xuICAgICAgaW1wb3J0IGRvbUFQSSBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlRG9tQVBJLmpzXCI7XG4gICAgICBpbXBvcnQgaW5zZXJ0Rm4gZnJvbSBcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRCeVNlbGVjdG9yLmpzXCI7XG4gICAgICBpbXBvcnQgc2V0QXR0cmlidXRlcyBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3NldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcy5qc1wiO1xuICAgICAgaW1wb3J0IGluc2VydFN0eWxlRWxlbWVudCBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydFN0eWxlRWxlbWVudC5qc1wiO1xuICAgICAgaW1wb3J0IHN0eWxlVGFnVHJhbnNmb3JtRm4gZnJvbSBcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZVRhZ1RyYW5zZm9ybS5qc1wiO1xuICAgICAgaW1wb3J0IGNvbnRlbnQsICogYXMgbmFtZWRFeHBvcnQgZnJvbSBcIiEhLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9zdHlsZS5jc3NcIjtcbiAgICAgIFxuICAgICAgXG5cbnZhciBvcHRpb25zID0ge307XG5cbm9wdGlvbnMuc3R5bGVUYWdUcmFuc2Zvcm0gPSBzdHlsZVRhZ1RyYW5zZm9ybUZuO1xub3B0aW9ucy5zZXRBdHRyaWJ1dGVzID0gc2V0QXR0cmlidXRlcztcblxuICAgICAgb3B0aW9ucy5pbnNlcnQgPSBpbnNlcnRGbi5iaW5kKG51bGwsIFwiaGVhZFwiKTtcbiAgICBcbm9wdGlvbnMuZG9tQVBJID0gZG9tQVBJO1xub3B0aW9ucy5pbnNlcnRTdHlsZUVsZW1lbnQgPSBpbnNlcnRTdHlsZUVsZW1lbnQ7XG5cbnZhciB1cGRhdGUgPSBBUEkoY29udGVudCwgb3B0aW9ucyk7XG5cblxuXG5leHBvcnQgKiBmcm9tIFwiISEuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL3N0eWxlLmNzc1wiO1xuICAgICAgIGV4cG9ydCBkZWZhdWx0IGNvbnRlbnQgJiYgY29udGVudC5sb2NhbHMgPyBjb250ZW50LmxvY2FscyA6IHVuZGVmaW5lZDtcbiIsImV4cG9ydCBkZWZhdWx0ICh4LCB5KSA9PiB7XG4gICAgaWYgKFxuICAgICAgICB0eXBlb2YgeCAhPT0gXCJudW1iZXJcIiB8fFxuICAgICAgICB0eXBlb2YgeSAhPT0gXCJudW1iZXJcIiB8fFxuICAgICAgICBpc05hTih4KSB8fFxuICAgICAgICBpc05hTih5KVxuICAgICkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiTnVtYmVyIGFyZ3VtZW50cyBhcmUgZXhwZWN0ZWRcIik7XG4gICAgfVxuXG4gICAgaWYgKHggPCAwIHx8IHggPiA5IHx8IHkgPCAwIHx8IHkgPiA5KVxuICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcbiAgICAgICAgICAgIFwieCBhbmQgeSBjb29yZGluYXRlcyBhcmUgcmVxdWlyZWQgdG8gYmUgYmV0d2VlbiAwLTlcIlxuICAgICAgICApO1xuXG4gICAgY29uc3QgX3ggPSB4O1xuICAgIGNvbnN0IF95ID0geTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIGdldFg6ICgpID0+IF94LFxuICAgICAgICBnZXRZOiAoKSA9PiBfeSxcbiAgICAgICAgZ2V0VHlwZTogKCkgPT4gXCJQb2ludFwiLFxuICAgICAgICBqc29uOiAoKSA9PiBge1wieFwiOiAke194fSwgXCJ5XCI6ICR7X3l9fWAsXG4gICAgfTtcbn07XG4iLCJpbXBvcnQgUG9pbnQgZnJvbSBcIi4uL2xvZ2ljL1BvaW50XCI7XG5cbmV4cG9ydCBkZWZhdWx0IChnYW1lLCB0aXRsZSwgc2hpcHMpID0+IHtcbiAgICBjb25zdCBwYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wYWdlLWNvbnRhaW5lclwiKTtcblxuICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgY29udGFpbmVyLmNsYXNzTGlzdCA9IFwiYm9hcmQtY29udGFpbmVyXCI7XG4gICAgY29uc3QgdGl0bGVEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaDNcIik7XG4gICAgdGl0bGVEaXYuaW5uZXJUZXh0ID0gdGl0bGU7XG4gICAgdGl0bGVEaXYuY2xhc3NMaXN0ID0gXCJib2FyZC10aXRsZVwiO1xuXG4gICAgY29uc3QgYm9hcmQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGJvYXJkLmNsYXNzTGlzdCA9IFwiYm9hcmRcIjtcblxuICAgIGZvciAobGV0IHkgPSA5OyB5ID49IDA7IHktLSkge1xuICAgICAgICBmb3IgKGxldCB4ID0gMDsgeCA8IDEwOyB4KyspIHtcbiAgICAgICAgICAgIGNvbnN0IG5ld1BvaW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgICAgIG5ld1BvaW50LnNldEF0dHJpYnV0ZShcInhcIiwgeCk7XG4gICAgICAgICAgICBuZXdQb2ludC5zZXRBdHRyaWJ1dGUoXCJ5XCIsIHkpO1xuICAgICAgICAgICAgbmV3UG9pbnQuY2xhc3NMaXN0ID0gXCJib2FyZC1pdGVtXCI7XG5cbiAgICAgICAgICAgIGlmICghc2hpcHMpIHtcbiAgICAgICAgICAgICAgICBuZXdQb2ludC5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICAgICAgICAgICAgICBcImNsaWNrXCIsXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5nZXRQbGF5ZXJCb2FyZCgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5zaG9vdChnYW1lLmdldEVuZW15UGxheWVyKCksIFBvaW50KHgsIHkpKVxuICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jbGFzc0xpc3QuYWRkKFwicGxheWVyLWhpdFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jbGFzc0xpc3QuYWRkKFwicGxheWVyLW1pc3NlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW5uZXJUZXh0ID0gXCJYXCI7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHsgb25jZTogdHJ1ZSB9XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbGV0IGNsYXNzVG9BZGQ7XG4gICAgICAgICAgICAgICAgbmV3UG9pbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlb3ZlclwiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRtcFNoaXAgPSBnYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAuZ2V0UGxheWVyKClcbiAgICAgICAgICAgICAgICAgICAgICAgIC5nZXRTaGlwKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdhbWUuZ2V0U2l6ZSgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBvaW50KHgsIHkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdhbWUuZ2V0RGlyZWN0aW9uKClcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IHBvaW50IG9mIHRtcFNoaXAuY29vcmRpbmF0ZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGJvYXJkSXRlbSA9IGJvYXJkLnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYFt4PVwiJHtwb2ludC5nZXRYKCl9XCJdW3k9XCIke3BvaW50LmdldFkoKX1cIl1gXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRtcFNoaXAuaXNQbGFjZWFibGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc1RvQWRkID0gXCJwbGF5ZXItcGxhY2VhYmxlXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzVG9BZGQgPSBcInBsYXllci1vY2N1cGllZFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvYXJkSXRlbS5jbGFzc0xpc3QuYWRkKGNsYXNzVG9BZGQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgbmV3UG9pbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlb3V0XCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaXRlbXMgPSBib2FyZC5xdWVyeVNlbGVjdG9yQWxsKFwiLmJvYXJkLWl0ZW1cIik7XG4gICAgICAgICAgICAgICAgICAgIGl0ZW1zLmZvckVhY2goKGl0ZW0pID0+IGl0ZW0uY2xhc3NMaXN0LnJlbW92ZShjbGFzc1RvQWRkKSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgbmV3UG9pbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgZ2FtZS5hZGRTaGlwKFBvaW50KHgsIHkpKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgIGdhbWVcbiAgICAgICAgICAgICAgICAgICAgICAgIC5nZXRQbGF5ZXIoKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmdldE9jY3VwaWVkKClcbiAgICAgICAgICAgICAgICAgICAgICAgIC5maW5kKChlKSA9PiBlLmdldFgoKSA9PT0geCAmJiBlLmdldFkoKSA9PT0geSlcbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgbmV3UG9pbnQuY2xhc3NMaXN0LmFkZChcInBsYXllci1zaGlwXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJvYXJkLmFwcGVuZENoaWxkKG5ld1BvaW50KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb250YWluZXIuYXBwZW5kKHRpdGxlRGl2LCBib2FyZCk7XG4gICAgcmV0dXJuIGNvbnRhaW5lcjtcbn07XG4iLCJleHBvcnQgZGVmYXVsdCAoZ2FtZSkgPT4ge1xuICAgIGNvbnN0IHBhZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBhZ2UtY29udGFpbmVyXCIpO1xuXG4gICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBjb250YWluZXIuY2xhc3NMaXN0ID0gXCJzaGlwLXNlbGVjdGlvblwiO1xuXG4gICAgY29uc3QgZGlyZWN0aW9uQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcbiAgICBjb25zdCBzbUJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gICAgY29uc3QgbWRCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICAgIGNvbnN0IGxnQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcbiAgICBjb25zdCB4bEJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG5cbiAgICBkaXJlY3Rpb25CdG4uaWQgPSBcImRpcmVjdGlvbkJ0blwiO1xuICAgIHNtQnRuLmlkID0gXCJzbUJ0blwiO1xuICAgIG1kQnRuLmlkID0gXCJtZEJ0blwiO1xuICAgIGxnQnRuLmlkID0gXCJsZ0J0blwiO1xuICAgIHhsQnRuLmlkID0gXCJ4bEJ0blwiO1xuXG4gICAgZGlyZWN0aW9uQnRuLmlubmVyVGV4dCA9IFwi8J+nrVwiO1xuICAgIHNtQnRuLmlubmVyVGV4dCA9IFwiU21hbGxcIjtcbiAgICBtZEJ0bi5pbm5lclRleHQgPSBcIk1lZGl1bVwiO1xuICAgIGxnQnRuLmlubmVyVGV4dCA9IFwiTGFyZ2VcIjtcbiAgICB4bEJ0bi5pbm5lclRleHQgPSBcIlhMXCI7XG5cbiAgICBjb25zdCBkaXJlY3Rpb25WYWx1ZXMgPSAoZnVuY3Rpb24gKCkge1xuICAgICAgICBsZXQgX2RhdGEgPSBbXCJ1cFwiLCBcInJpZ2h0XCIsIFwiZG93blwiLCBcImxlZnRcIl07XG4gICAgICAgIGxldCBfc2VsZWN0ZWQgPSAwO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZ2V0OiAoKSA9PiBfZGF0YVtfc2VsZWN0ZWRdLFxuICAgICAgICAgICAgbmV4dDogKCkgPT4ge1xuICAgICAgICAgICAgICAgIF9zZWxlY3RlZCsrO1xuICAgICAgICAgICAgICAgIGlmIChfc2VsZWN0ZWQgPT09IF9kYXRhLmxlbmd0aCkgX3NlbGVjdGVkID0gMDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgfSkoKTtcbiAgICBnYW1lLnNldERpcmVjdGlvbihkaXJlY3Rpb25WYWx1ZXMuZ2V0KCkpO1xuICAgIGRpcmVjdGlvbkJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICBkaXJlY3Rpb25WYWx1ZXMubmV4dCgpO1xuICAgICAgICBnYW1lLnNldERpcmVjdGlvbihkaXJlY3Rpb25WYWx1ZXMuZ2V0KCkpO1xuICAgIH0pO1xuICAgIGxldCBzZWxlY3RlZFNpemU7XG4gICAgY29uc3QgY2xpY2tIYW5kbGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBjb25zdCBzaWJsaW5ncyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYC5idG46bm90KFske3RoaXMuaWR9XSlgKTtcbiAgICAgICAgc2libGluZ3MuZm9yRWFjaCgocykgPT4gcy5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpKTtcbiAgICAgICAgdGhpcy5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlXCIpO1xuICAgICAgICBzd2l0Y2ggKHRoaXMuaWQpIHtcbiAgICAgICAgICAgIGNhc2UgXCJzbUJ0blwiOlxuICAgICAgICAgICAgICAgIHNlbGVjdGVkU2l6ZSA9IDI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwibWRCdG5cIjpcbiAgICAgICAgICAgICAgICBzZWxlY3RlZFNpemUgPSAzO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcImxnQnRuXCI6XG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRTaXplID0gNDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJ4bEJ0blwiOlxuICAgICAgICAgICAgICAgIHNlbGVjdGVkU2l6ZSA9IDU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRocm93IFR5cGVFcnJvcihcIlVrbm93biBzaGlwIHR5cGUgd2FzIGNsaWNrZWRcIik7XG4gICAgICAgIH1cbiAgICAgICAgZ2FtZS5zZXRTaXplKHNlbGVjdGVkU2l6ZSk7XG4gICAgfTtcbiAgICBzbUJ0bi5vbmNsaWNrID1cbiAgICAgICAgbWRCdG4ub25jbGljayA9XG4gICAgICAgIGxnQnRuLm9uY2xpY2sgPVxuICAgICAgICB4bEJ0bi5vbmNsaWNrID1cbiAgICAgICAgICAgIGNsaWNrSGFuZGxlcjtcbiAgICBjb250YWluZXIuYXBwZW5kKHNtQnRuLCBtZEJ0biwgbGdCdG4sIHhsQnRuLCBkaXJlY3Rpb25CdG4pO1xuICAgIGNvbnN0IGNoaWxkQXJyYXkgPSBBcnJheS5mcm9tKGNvbnRhaW5lci5jaGlsZHJlbik7XG4gICAgY2hpbGRBcnJheS5mb3JFYWNoKChlKSA9PiAoZS5jbGFzc0xpc3QgPSBcImJ0blwiKSk7XG4gICAgc21CdG4uY2xpY2soKTtcbiAgICByZXR1cm4gY29udGFpbmVyO1xufTtcbiIsImV4cG9ydCBkZWZhdWx0ICgoKSA9PiB7XG4gICAgbGV0IGV2ZW50cyA9IHt9O1xuICAgIGxldCB0b2tlbiA9IDA7XG5cbiAgICBjb25zdCBzdWJzY3JpYmUgPSAoZXZlbnQsIGZ1bmMpID0+IHtcbiAgICAgICAgZXZlbnRzW2V2ZW50XSA9IFtdO1xuICAgICAgICB0b2tlbisrO1xuICAgICAgICBldmVudHNbZXZlbnRdLnB1c2goe1xuICAgICAgICAgICAgdG9rZW4sXG4gICAgICAgICAgICBmdW5jLFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRva2VuO1xuICAgIH07XG5cbiAgICBjb25zdCB1bnN1YnNjcmliZSA9IChldmVudCwgdG9rZW4pID0+IHtcbiAgICAgICAgaWYoIWV2ZW50KSB0aHJvdyBUeXBlRXJyb3IoJ0FuIGV2ZW50IGlzIGV4cGVjdGVkJylcbiAgICAgICAgaWYgKCF0b2tlbikgdGhyb3cgVHlwZUVycm9yKFwiQSB0b2tlbiBpcyBleHBlY3RlZFwiKTtcbiAgICAgICAgaWYoZXZlbnRzW2V2ZW50XSkgdGhyb3cgVHlwZUVycm9yKCdObyBtYXRjaGluZyBldmVudCBmb3VuZCcpO1xuICAgICAgICBcbiAgICAgICAgY29uc3QgbmV3U3VicyA9IGV2ZW50c1tldmVudF0uZmlsdGVyKChzKSA9PiAhKHMudG9rZW4gPT09IHRva2VuKSk7XG4gICAgICAgIGlmKG5ld1N1YnMubGVuZ3RoID09PSBldmVudHNbZXZlbnRdLmxlbmd0aCkgdGhyb3cgVHlwZUVycm9yKGBObyB0b2tlbiBtYXRjaGluZyAke3Rva2VufSB3YXMgZm91bmRgKVxuICAgICAgICBldmVudHNbZXZlbnRdID0gbmV3U3VicztcbiAgICB9O1xuICAgIGNvbnN0IHB1Ymxpc2ggPSAoZXZlbnQpID0+IHtcbiAgICAgICAgaWYoZXZlbnRzW2V2ZW50XSA9PT0gdW5kZWZpbmVkKSB0aHJvdyBUeXBlRXJyb3IoYFwiJHtldmVudH1cIiBldmVudCBoYXMgbm8gc3Vic2NyaWJlcnMgeWV0LmApXG4gICAgICAgIGV2ZW50c1tldmVudF0uZm9yRWFjaCgocykgPT4gcy5mdW5jKCkpO1xuICAgIH07XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBzdWJzY3JpYmUsXG4gICAgICAgIHVuc3Vic2NyaWJlLFxuICAgICAgICBwdWJsaXNoLFxuICAgIH07XG59KSgpO1xuIiwiaW1wb3J0IFNoaXAgZnJvbSBcIi4vU2hpcFwiO1xuaW1wb3J0IFBvaW50IGZyb20gXCIuL1BvaW50XCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgaWYgKCFuYW1lKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQSBuYW1lIGlzIGV4cGVjdGVkXCIpO1xuICAgIGxldCBfbmFtZSA9IG5hbWU7XG4gICAgbGV0IF9zaGlwc0xlZnQgPSB7XG4gICAgICAgIHhsOiAxLFxuICAgICAgICBsZzogMSxcbiAgICAgICAgbWQ6IDIsXG4gICAgICAgIHNtOiAxLFxuICAgIH07XG4gICAgbGV0IF9zaGlwc093bmVkID0gW107XG5cbiAgICBsZXQgX29jY3VwaWVkUG9pbnRzID0ge1xuICAgICAgICBfZGF0YTogW10sXG4gICAgICAgIGFkZDogZnVuY3Rpb24gKHBvaW50c0FycmF5KSB7XG4gICAgICAgICAgICBpZiAocG9pbnRzQXJyYXkubGVuZ3RoID4gMCAmJiB0aGlzLmlzT2NjdXBpZWQocG9pbnRzQXJyYXkpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgUmFuZ2VFcnJvcihcbiAgICAgICAgICAgICAgICAgICAgXCJTb21lIG9mIHRoZSBzaGlwcyBwb2ludHMgYXJlIGFscmVhZHkgb2NjdXBpZWRcIlxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9kYXRhID0gWy4uLnRoaXMuX2RhdGEsIC4uLnBvaW50c0FycmF5XTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZGF0YTtcbiAgICAgICAgfSxcbiAgICAgICAgaXNPY2N1cGllZDogZnVuY3Rpb24gKHBvaW50c0FycmF5KSB7XG4gICAgICAgICAgICBmb3IgKGxldCBwb2ludCBvZiBwb2ludHNBcnJheSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGEgPSB0aGlzLl9kYXRhLnNvbWUoKHApID0+IHAuanNvbigpID09PSBwb2ludC5qc29uKCkpO1xuICAgICAgICAgICAgICAgIGlmIChhKSByZXR1cm4gYTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICB9O1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgZ2V0VHlwZTogKCkgPT4gXCJQbGF5ZXJcIixcbiAgICAgICAgZ2V0TmFtZTogKCkgPT4gX25hbWUsXG4gICAgICAgIGdldFNoaXBzTGVmdDogKCkgPT4gX3NoaXBzTGVmdCxcbiAgICAgICAgZ2V0U2hpcHNPd25lZDogKCkgPT4gX3NoaXBzT3duZWQsXG4gICAgICAgIGdldE9jY3VwaWVkOiAoKSA9PiBfb2NjdXBpZWRQb2ludHMuZ2V0KCksXG4gICAgICAgIGdldFNoaXA6IChzaXplLCBzdGFydCwgZGlyZWN0aW9uKSA9PiB7XG4gICAgICAgICAgICBsZXQgaXNQbGFjZWFibGU7XG4gICAgICAgICAgICBsZXQgY3VycmVudFNoaXBQb2ludHMgPSBbXTtcbiAgICAgICAgICAgIGlmICghc2l6ZSB8fCB0eXBlb2Ygc2l6ZSAhPT0gXCJudW1iZXJcIiB8fCBpc05hTihzaXplKSlcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQSBzaXplIG9mIHR5cGUgbnVtYmVyIGlzIGV4cGVjdGVkXCIpO1xuICAgICAgICAgICAgaWYgKCFzdGFydCB8fCBzdGFydC5nZXRUeXBlKCkgIT09IFwiUG9pbnRcIilcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQSBQb2ludCBvYmplY3QgaXMgZXhwZWN0ZWRcIik7XG5cbiAgICAgICAgICAgIHN3aXRjaCAoZGlyZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcInVwXCI6XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2l6ZTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RhcnQuZ2V0WSgpICsgaSA+IDkpIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcG9pbnQgPSBQb2ludChzdGFydC5nZXRYKCksIHN0YXJ0LmdldFkoKSArIGkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFNoaXBQb2ludHMucHVzaChwb2ludCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcImRvd25cIjpcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaXplOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGFydC5nZXRZKCkgLSBpIDwgMCApIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcG9pbnQgPSBQb2ludChzdGFydC5nZXRYKCksIHN0YXJ0LmdldFkoKSAtIGkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFNoaXBQb2ludHMucHVzaChwb2ludCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcInJpZ2h0XCI6XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2l6ZTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RhcnQuZ2V0WCgpICsgaSA+IDkgKSBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBvaW50ID0gUG9pbnQoc3RhcnQuZ2V0WCgpICsgaSwgc3RhcnQuZ2V0WSgpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRTaGlwUG9pbnRzLnB1c2gocG9pbnQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJsZWZ0XCI6XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2l6ZTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RhcnQuZ2V0WCgpIC0gaSA8IDAgKSBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBvaW50ID0gUG9pbnQoc3RhcnQuZ2V0WCgpIC0gaSwgc3RhcnQuZ2V0WSgpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRTaGlwUG9pbnRzLnB1c2gocG9pbnQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHRocm93IFR5cGVFcnJvcihcbiAgICAgICAgICAgICAgICAgICAgICAgIGBEaXJlY3Rpb24gbXVzdCBiZSB1cCwgZG93biwgcmlnaHQgb3IgbGVmdC4gJHtkaXJlY3Rpb259IHBhc3NlZGBcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlzUGxhY2VhYmxlID1cbiAgICAgICAgICAgICAgICAhX29jY3VwaWVkUG9pbnRzLmlzT2NjdXBpZWQoY3VycmVudFNoaXBQb2ludHMpICYmXG4gICAgICAgICAgICAgICAgY3VycmVudFNoaXBQb2ludHMubGVuZ3RoID09PSBzaXplO1xuICAgICAgICAgICAgY29uc3QgbmV3U2hpcCA9IE9iamVjdC5hc3NpZ24oe30sIFNoaXAoc2l6ZSksIHtcbiAgICAgICAgICAgICAgICBjb29yZGluYXRlczogY3VycmVudFNoaXBQb2ludHMsXG4gICAgICAgICAgICAgICAgaXNQbGFjZWFibGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBuZXdTaGlwO1xuICAgICAgICB9LFxuICAgICAgICBhZGRTaGlwOiBmdW5jdGlvbiAoc2l6ZSwgc3RhcnQsIGRpcmVjdGlvbikge1xuICAgICAgICAgICAgY29uc3QgbmV3U2hpcCA9IHRoaXMuZ2V0U2hpcChzaXplLCBzdGFydCwgZGlyZWN0aW9uKTtcbiAgICAgICAgICAgIGlmKCFuZXdTaGlwLmlzUGxhY2VhYmxlKXtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIlNoaXAgaXMgZXhjZWVkaW5nIHRoZSBib2FyZCBvciBjb2xsaWRpbmcgd2l0aCBhbm90aGVyIHNoaXAsIHBsZWFzZSBzdGFydCwgZGlyZWN0aW9uIGFuZCBzaXplXCIpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIW5ld1NoaXAuaXNQbGFjZWFibGUpIHJldHVybjtcbiAgICAgICAgICAgIGxldCB0eXBlO1xuICAgICAgICAgICAgc3dpdGNoIChzaXplKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICB0eXBlID0gXCJzbVwiO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIHR5cGUgPSBcIm1kXCI7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgdHlwZSA9IFwibGdcIjtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgICAgICB0eXBlID0gXCJ4bFwiO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcbiAgICAgICAgICAgICAgICAgICAgICAgIGBTaGlwIHNpemUgbXVzdCBiZSBiZXR3ZWVuIDItNSwgJHtzaXplfSBwYXNzZWRgXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIV9zaGlwc0xlZnRbdHlwZV0pXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXG4gICAgICAgICAgICAgICAgICAgIGBUcnlpbmcgdG8gY3JlYXRlIG1hbnkgc2hpcHMgb2YgdHlwZSAke3R5cGV9LmBcbiAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBfb2NjdXBpZWRQb2ludHMuYWRkKG5ld1NoaXAuY29vcmRpbmF0ZXMpO1xuICAgICAgICAgICAgX3NoaXBzTGVmdFt0eXBlXS0tO1xuICAgICAgICAgICAgX3NoaXBzT3duZWQucHVzaChuZXdTaGlwKTtcbiAgICAgICAgfSxcbiAgICB9O1xufVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKHNpemUpIHtcbiAgICBpZiAoIXNpemUpIHtcbiAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJTaGlwLmpzOiBNaXNzaW5nIHNoaXAgc2l6ZVwiKTtcbiAgICB9XG4gICAgaWYodHlwZW9mIHNpemUgIT09ICdudW1iZXInKSB0aHJvdyBuZXcgVHlwZUVycm9yKGBTaGlwLmpzOiBzaXplIHNob3VsZCBiZSBvZiB0eXBlIG51bWJlci4gJHt0eXBlb2Ygc2l6ZX0gcGFzc2VkYClcbiAgICBpZiAoc2l6ZSA+IDUpXG4gICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFxuICAgICAgICAgICAgYFNoaXB0LmpzOiBUaGUgc2l6ZSBjYW4gYmUgMi00LCAke3NpemV9IGlzIHRvbyBiaWdgXG4gICAgICAgICk7XG4gICAgaWYgKHNpemUgPCAyKVxuICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcbiAgICAgICAgICAgIGBTaGlwdC5qczogVGhlIHNpemUgY2FuIGJlIDItNCwgJHtzaXplfSBpcyB0b28gc21hbGxgXG4gICAgICAgICk7XG4gICAgY29uc3QgX3R5cGUgPSAnU2hpcCc7XG4gICAgY29uc3QgX3NpemUgPSBzaXplO1xuICAgIGxldCBfaGl0cyA9IDA7XG4gICAgbGV0IF9pc1N1bmsgPSBmYWxzZTtcbiAgICByZXR1cm4ge1xuICAgICAgICBnZXRUeXBlOiAoKSA9PiBfdHlwZSxcbiAgICAgICAgZ2V0U2l6ZTogKCkgPT4gX3NpemUsXG4gICAgICAgIGdldEhpdHM6ICgpID0+IF9oaXRzLFxuICAgICAgICBnZXRJc1N1bms6ICgpID0+IF9pc1N1bmssXG4gICAgICAgIGhpdDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX2hpdHMrKztcbiAgICAgICAgICAgIGlmIChfaGl0cyA9PT0gX3NpemUpIF9pc1N1bmsgPSB0cnVlO1xuICAgICAgICB9LFxuICAgICAgICBcbiAgICB9O1xufVxuIiwiaW1wb3J0IFwiLi9zdHlsZS5jc3NcIjtcbmltcG9ydCBtYWluIGZyb20gXCIuL3BhZ2VzL21haW5cIjtcbmltcG9ydCBHYW1lIGZyb20gXCIuL2xvZ2ljL0dhbWVcIjtcbmltcG9ydCBQbGF5ZXIgZnJvbSBcIi4vbG9naWMvUGxheWVyXCI7XG5cbmNvbnN0IGdhbWUgPSBHYW1lKCk7XG5jb25zdCBwbGF5ZXIgPSBQbGF5ZXIoXCJKb2VcIik7XG5jb25zdCBlbmVteSA9IFBsYXllcihcIkFJXCIpO1xuXG5nYW1lLmluaXQocGxheWVyLCBlbmVteSk7XG5cbm1haW4oZ2FtZSk7XG4iLCJpbXBvcnQgQm9hcmQgZnJvbSBcIi4vQm9hcmRcIjtcbmltcG9ydCBQb2ludCBmcm9tIFwiLi9Qb2ludFwiO1xuaW1wb3J0IFB1YlN1YiBmcm9tIFwiLi9QdWJTdWJcIjtcblxuZXhwb3J0IGRlZmF1bHQgKCkgPT4ge1xuICAgIGNvbnN0IF9wbGF5ZXJCb2FyZCA9IEJvYXJkKCk7XG4gICAgbGV0IF9wbGF5ZXI7XG4gICAgbGV0IF9lbmVteVBsYXllcjtcbiAgICBsZXQgX3NlbGVjdGVkRGlyZWN0aW9uID0gJ3VwJztcbiAgICBsZXQgX3NlbGVjdGVkU2l6ZTtcbiAgICByZXR1cm4ge1xuICAgICAgICBpbml0OiAocGxheWVyLCBlbmVteVBsYXllcikgPT4ge1xuICAgICAgICAgICAgX3BsYXllciA9IHBsYXllcjtcbiAgICAgICAgICAgIF9lbmVteVBsYXllciA9IGVuZW15UGxheWVyO1xuXG4gICAgICAgICAgICAvLyBMaXN0ZW4gZm9yIGVuZW15IGlucHV0XG4gICAgICAgICAgICBlbmVteVBsYXllci5hZGRTaGlwKDMsIFBvaW50KDEsIDEpLCBcInVwXCIpO1xuICAgICAgICAgICAgZW5lbXlQbGF5ZXIuYWRkU2hpcCgzLCBQb2ludCg1LCA1KSwgXCJyaWdodFwiKTtcbiAgICAgICAgICAgIGVuZW15UGxheWVyLmFkZFNoaXAoNCwgUG9pbnQoMCwgOSksIFwiZG93blwiKTtcbiAgICAgICAgICAgIGVuZW15UGxheWVyLmFkZFNoaXAoMiwgUG9pbnQoNSwgOCksIFwiZG93blwiKTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0UGxheWVyQm9hcmQ6ICgpID0+IF9wbGF5ZXJCb2FyZCxcbiAgICAgICAgZ2V0UGxheWVyOiAoKSA9PiBfcGxheWVyLFxuICAgICAgICBnZXRFbmVteVBsYXllcjogKCkgPT4gX2VuZW15UGxheWVyLFxuICAgICAgICBzZXRTaXplOiAoc2l6ZSkgPT4ge1xuICAgICAgICAgICAgaWYgKCFzaXplKSB0aHJvdyBUeXBlRXJyb3IoXCJBIHNpemUgaXMgZXhwZWN0ZWRcIik7XG4gICAgICAgICAgICBfc2VsZWN0ZWRTaXplID0gc2l6ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0U2l6ZTogKCkgPT4gX3NlbGVjdGVkU2l6ZSxcbiAgICAgICAgc2V0RGlyZWN0aW9uOiAoZGlyZWN0aW9uKSA9PiB7XG4gICAgICAgICAgICBpZiAoIWRpcmVjdGlvbikgdGhyb3cgVHlwZUVycm9yKFwiQSBkaXJlY3Rpb24gaXMgZXhwZWN0ZWRcIik7XG4gICAgICAgICAgICBfc2VsZWN0ZWREaXJlY3Rpb24gPSBkaXJlY3Rpb247XG4gICAgICAgIH0sXG4gICAgICAgIGdldERpcmVjdGlvbjogKCkgPT4gX3NlbGVjdGVkRGlyZWN0aW9uLFxuICAgICAgICBhZGRTaGlwOiBmdW5jdGlvbiAocG9pbnQpIHtcbiAgICAgICAgICAgIGlmICghcG9pbnQpIHRocm93IFR5cGVFcnJvcihcIkEgUG9pbnQgaXMgZXhwZWN0ZWRcIik7XG4gICAgICAgICAgICBfcGxheWVyLmFkZFNoaXAoX3NlbGVjdGVkU2l6ZSwgcG9pbnQsIF9zZWxlY3RlZERpcmVjdGlvbik7XG4gICAgICAgICAgICBQdWJTdWIucHVibGlzaCgnc2hpcHNDaGFuZ2VkJyk7XG4gICAgICAgIH0sXG4gICAgfTtcbn07XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoKSB7XG4gICAgY29uc3QgX3R5cGUgPSBcIkJvYXJkXCI7XG4gICAgbGV0IF9zaG90cyA9IFtdO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgZ2V0VHlwZTogKCkgPT4gX3R5cGUsXG4gICAgICAgIGdldFNob3RzOiAoKSA9PiBfc2hvdHMsXG4gICAgICAgIHNob290OiAoZW5lbXlQbGF5ZXIsIHBvaW50KSA9PiB7XG4gICAgICAgICAgICBpZiAoIWVuZW15UGxheWVyIHx8IGVuZW15UGxheWVyLmdldFR5cGUoKSAhPT0gXCJQbGF5ZXJcIilcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFxuICAgICAgICAgICAgICAgICAgICBgQSBQbGF5ZXIgb2JqZWN0IGlzIGV4cGVjdGVkLCAke2VuZW15UGxheWVyfSBwYXNzZWRgXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGlmICghcG9pbnQgfHwgcG9pbnQuZ2V0VHlwZSgpICE9PSBcIlBvaW50XCIpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkEgUG9pbnQgb2JqZWN0IGlzIHJlcXVpcmVkXCIpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBfc2hvdHMucHVzaChwb2ludCk7XG4gICAgICAgICAgICBmb3IgKGxldCBlbmVteVNoaXAgb2YgZW5lbXlQbGF5ZXIuZ2V0U2hpcHNPd25lZCgpKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlbmVteVNoaXAuZ2V0U2l6ZSgpOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXlTaGlwLmNvb3JkaW5hdGVzW2ldLmpzb24oKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgIHBvaW50Lmpzb24oKVxuICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZW15U2hpcC5oaXQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9LFxuICAgIH07XG59XG4iLCJpbXBvcnQgaGVhZGVyIGZyb20gXCIuLi9jb21wb25lbnRzL3NlY3Rpb25zL2hlYWRlclwiO1xuaW1wb3J0IGJhdHRsZXNoaXAgZnJvbSAnLi4vY29tcG9uZW50cy9zZWN0aW9ucy9nYW1lJ1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoZ2FtZSkge1xuICAgIGNvbnN0IHBhZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucGFnZS1jb250YWluZXInKTtcblxuICAgIHBhZ2UuYXBwZW5kKGhlYWRlcigpLCBiYXR0bGVzaGlwKGdhbWUpKTtcbn1cbiIsImV4cG9ydCBkZWZhdWx0ICgpID0+IHtcbiAgICBjb25zdCBoZWFkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGhlYWRlci5jbGFzc0xpc3QgPSAnaGVhZGVyLXNlY3Rpb24nO1xuICAgIGhlYWRlci5pbm5lckhUTUwgPSBcIjxoMT5IYXN3ZWxsJ3MgQmF0dGxlc2hpcDwvaDE+XCI7XG5cbiAgICByZXR1cm4gaGVhZGVyO1xufTtcbiIsImltcG9ydCBnYW1lYm9hcmQgZnJvbSAnLi4vZ2FtZWJvYXJkJztcbmltcG9ydCBzaGlwU2VsZWN0aW9uIGZyb20gXCIuLi9zaGlwU2VsZWN0aW9uXCI7XG5pbXBvcnQgUHViU3ViIGZyb20gJy4uLy4uL2xvZ2ljL1B1YlN1Yic7XG5cblxuZXhwb3J0IGRlZmF1bHQgKGdhbWUpID0+IHtcbiAgICBjb25zdCBnYW1lU2VjdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGdhbWVTZWN0aW9uLmNsYXNzTGlzdCA9ICdnYW1lLXNlY3Rpb24nXG4gICAgY29uc3QgZW5lbXlCb2FyZCA9IGdhbWVib2FyZChnYW1lLCBcIkVuZW15IFNlYVwiKTtcbiAgICBsZXQgcGxheWVyQm9hcmQgPSBnYW1lYm9hcmQoXG4gICAgICAgIGdhbWUsXG4gICAgICAgIFwiTXkgU2VhXCIsXG4gICAgICAgIGdhbWUuZ2V0UGxheWVyKCkuZ2V0U2hpcHNPd25lZCgpXG4gICAgKTtcblxuICAgIGdhbWVTZWN0aW9uLmFwcGVuZChlbmVteUJvYXJkLCBwbGF5ZXJCb2FyZCwgc2hpcFNlbGVjdGlvbihnYW1lKSk7XG4gICAgXG4gICAgY29uc3QgcmVkcmF3Qm9hcmQgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IG5ld0JvYXJkID0gZ2FtZWJvYXJkKFxuICAgICAgICAgICAgZ2FtZSxcbiAgICAgICAgICAgIFwiTXkgU2VhXCIsXG4gICAgICAgICAgICBnYW1lLmdldFBsYXllcigpLmdldFNoaXBzT3duZWQoKVxuICAgICAgICApO1xuICAgICAgICBnYW1lU2VjdGlvbi5yZXBsYWNlQ2hpbGQobmV3Qm9hcmQsIHBsYXllckJvYXJkKTtcbiAgICAgICAgcGxheWVyQm9hcmQgPSBuZXdCb2FyZDtcbiAgICB9O1xuXG4gICAgUHViU3ViLnN1YnNjcmliZShcInNoaXBzQ2hhbmdlZFwiLCByZWRyYXdCb2FyZCk7XG5cbiAgICByZXR1cm4gZ2FtZVNlY3Rpb247XG59XG4iXSwibmFtZXMiOlsiX19fQ1NTX0xPQURFUl9FWFBPUlRfX18iLCJwdXNoIiwibW9kdWxlIiwiaWQiLCJleHBvcnRzIiwiY3NzV2l0aE1hcHBpbmdUb1N0cmluZyIsImxpc3QiLCJ0b1N0cmluZyIsInRoaXMiLCJtYXAiLCJpdGVtIiwiY29udGVudCIsIm5lZWRMYXllciIsImNvbmNhdCIsImxlbmd0aCIsImpvaW4iLCJpIiwibW9kdWxlcyIsIm1lZGlhIiwiZGVkdXBlIiwic3VwcG9ydHMiLCJsYXllciIsInVuZGVmaW5lZCIsImFscmVhZHlJbXBvcnRlZE1vZHVsZXMiLCJrIiwiX2siLCJjc3NNYXBwaW5nIiwiYnRvYSIsImJhc2U2NCIsInVuZXNjYXBlIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiSlNPTiIsInN0cmluZ2lmeSIsImRhdGEiLCJzb3VyY2VNYXBwaW5nIiwic3R5bGVzSW5ET00iLCJnZXRJbmRleEJ5SWRlbnRpZmllciIsImlkZW50aWZpZXIiLCJyZXN1bHQiLCJtb2R1bGVzVG9Eb20iLCJvcHRpb25zIiwiaWRDb3VudE1hcCIsImlkZW50aWZpZXJzIiwiYmFzZSIsImNvdW50IiwiaW5kZXhCeUlkZW50aWZpZXIiLCJvYmoiLCJjc3MiLCJzb3VyY2VNYXAiLCJyZWZlcmVuY2VzIiwidXBkYXRlciIsImFkZEVsZW1lbnRTdHlsZSIsImJ5SW5kZXgiLCJzcGxpY2UiLCJhcGkiLCJkb21BUEkiLCJ1cGRhdGUiLCJuZXdPYmoiLCJyZW1vdmUiLCJsYXN0SWRlbnRpZmllcnMiLCJuZXdMaXN0IiwiaW5kZXgiLCJuZXdMYXN0SWRlbnRpZmllcnMiLCJfaSIsIl9pbmRleCIsIm1lbW8iLCJpbnNlcnQiLCJzdHlsZSIsInRhcmdldCIsInN0eWxlVGFyZ2V0IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwid2luZG93IiwiSFRNTElGcmFtZUVsZW1lbnQiLCJjb250ZW50RG9jdW1lbnQiLCJoZWFkIiwiZSIsImdldFRhcmdldCIsIkVycm9yIiwiYXBwZW5kQ2hpbGQiLCJlbGVtZW50IiwiY3JlYXRlRWxlbWVudCIsInNldEF0dHJpYnV0ZXMiLCJhdHRyaWJ1dGVzIiwic3R5bGVFbGVtZW50Iiwibm9uY2UiLCJzZXRBdHRyaWJ1dGUiLCJpbnNlcnRTdHlsZUVsZW1lbnQiLCJzdHlsZVRhZ1RyYW5zZm9ybSIsImFwcGx5IiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwicmVtb3ZlU3R5bGVFbGVtZW50Iiwic3R5bGVTaGVldCIsImNzc1RleHQiLCJmaXJzdENoaWxkIiwiY3JlYXRlVGV4dE5vZGUiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwibiIsImdldHRlciIsIl9fZXNNb2R1bGUiLCJkIiwiYSIsImRlZmluaXRpb24iLCJrZXkiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwicHJvcCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsIm5jIiwibG9jYWxzIiwieCIsInkiLCJpc05hTiIsIlR5cGVFcnJvciIsIlJhbmdlRXJyb3IiLCJfeCIsIl95IiwiZ2V0WCIsImdldFkiLCJnZXRUeXBlIiwianNvbiIsImdhbWUiLCJ0aXRsZSIsInNoaXBzIiwiY29udGFpbmVyIiwiY2xhc3NMaXN0IiwidGl0bGVEaXYiLCJpbm5lclRleHQiLCJib2FyZCIsIm5ld1BvaW50IiwiY2xhc3NUb0FkZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJ0bXBTaGlwIiwiZ2V0UGxheWVyIiwiZ2V0U2hpcCIsImdldFNpemUiLCJQb2ludCIsImdldERpcmVjdGlvbiIsInBvaW50IiwiY29vcmRpbmF0ZXMiLCJib2FyZEl0ZW0iLCJpc1BsYWNlYWJsZSIsImFkZCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmb3JFYWNoIiwiYWRkU2hpcCIsImdldE9jY3VwaWVkIiwiZmluZCIsImdldFBsYXllckJvYXJkIiwic2hvb3QiLCJnZXRFbmVteVBsYXllciIsIm9uY2UiLCJhcHBlbmQiLCJkaXJlY3Rpb25CdG4iLCJzbUJ0biIsIm1kQnRuIiwibGdCdG4iLCJ4bEJ0biIsImRpcmVjdGlvblZhbHVlcyIsIl9kYXRhIiwiX3NlbGVjdGVkIiwibmV4dCIsInNlbGVjdGVkU2l6ZSIsInNldERpcmVjdGlvbiIsIm9uY2xpY2siLCJzIiwic2V0U2l6ZSIsIkFycmF5IiwiZnJvbSIsImNoaWxkcmVuIiwiY2xpY2siLCJldmVudHMiLCJ0b2tlbiIsInN1YnNjcmliZSIsImV2ZW50IiwiZnVuYyIsInVuc3Vic2NyaWJlIiwibmV3U3VicyIsImZpbHRlciIsInB1Ymxpc2giLCJuYW1lIiwiX25hbWUiLCJfc2hpcHNMZWZ0IiwieGwiLCJsZyIsIm1kIiwic20iLCJfc2hpcHNPd25lZCIsIl9vY2N1cGllZFBvaW50cyIsInBvaW50c0FycmF5IiwiaXNPY2N1cGllZCIsInNvbWUiLCJwIiwiZ2V0TmFtZSIsImdldFNoaXBzTGVmdCIsImdldFNoaXBzT3duZWQiLCJzaXplIiwic3RhcnQiLCJkaXJlY3Rpb24iLCJjdXJyZW50U2hpcFBvaW50cyIsIm5ld1NoaXAiLCJhc3NpZ24iLCJfc2l6ZSIsIl9oaXRzIiwiX2lzU3VuayIsImdldEhpdHMiLCJnZXRJc1N1bmsiLCJoaXQiLCJTaGlwIiwidHlwZSIsIl9wbGF5ZXJCb2FyZCIsIl9zaG90cyIsImdldFNob3RzIiwiZW5lbXlQbGF5ZXIiLCJlbmVteVNoaXAiLCJCb2FyZCIsIl9wbGF5ZXIiLCJfZW5lbXlQbGF5ZXIiLCJfc2VsZWN0ZWRTaXplIiwiX3NlbGVjdGVkRGlyZWN0aW9uIiwiaW5pdCIsInBsYXllciIsIlB1YlN1YiIsIkdhbWUiLCJQbGF5ZXIiLCJlbmVteSIsImhlYWRlciIsImlubmVySFRNTCIsImdhbWVTZWN0aW9uIiwiZW5lbXlCb2FyZCIsImdhbWVib2FyZCIsInBsYXllckJvYXJkIiwic2hpcFNlbGVjdGlvbiIsIm5ld0JvYXJkIiwicmVwbGFjZUNoaWxkIiwibWFpbiJdLCJzb3VyY2VSb290IjoiIn0=